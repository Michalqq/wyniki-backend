{"version":3,"file":"main.e3993521d5704a0d2846.js","mappings":"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","sources":["webpack://javascript/./src/components/event/NewEventForm.jsx","webpack://javascript/./src/components/common/Count.jsx","webpack://javascript/./src/components/common/EventCard.jsx","webpack://javascript/./src/components/team/TeamListModal.jsx","webpack://javascript/./src/components/join/QuickJoinPanel.jsx","webpack://javascript/./src/components/utils/fileUtils.js","webpack://javascript/./src/components/event/EventModal.jsx","webpack://javascript/./src/components/team/BasicTeamDataForm.jsx","webpack://javascript/./src/components/team/FinalListModal.jsx","webpack://javascript/./src/components/team/AdminTeamList.jsx","webpack://javascript/./src/components/statement/AddStatementModal.jsx","webpack://javascript/./src/components/statement/StatementModal.jsx","webpack://javascript/./src/components/page/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport { CustomDatePicker, TimePicker } from \"../common/DateInput\";\r\nimport { CalendarContainer } from \"react-datepicker\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { format } from \"date-fns\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const NewEventForm = ({ show, handleClose, event }) => {\r\n  const [myEvent, setMyEvent] = useState({\r\n    name: \"\",\r\n    headDescription: \"\",\r\n    description: \"\",\r\n    footerDescription: \"\",\r\n    date: new Date(),\r\n    signDeadline: new Date(),\r\n    admin: 1,\r\n    stages: [],\r\n    organizer: \"\",\r\n    logoPath: \"\",\r\n    awdClassification: false,\r\n    rwdClassification: false,\r\n    fwdClassification: false,\r\n    pzm: true,\r\n  });\r\n  const [stage, setStage] = useState({\r\n    index: 0,\r\n    name: \"\",\r\n    distance: 1.5,\r\n    startTime: new Date(),\r\n    startFrequency: 1,\r\n  });\r\n  const [eventClass, setEventClass] = useState({\r\n    carClassId: 0,\r\n    carClassName: null,\r\n    maxEngineCapacity: null,\r\n    eventId: event?.eventId,\r\n    awd: false,\r\n  });\r\n  const [eventPaths, setEventPaths] = useState([]);\r\n  const [path, setPath] = useState({\r\n    eventId: event?.eventId,\r\n    path: \"\",\r\n    description: \"\",\r\n  });\r\n  const [eventFiles, setEventFiles] = useState([]);\r\n  const [file, setFile] = useState({\r\n    eventId: event?.eventId,\r\n    file: \"\",\r\n    fileName: \"\",\r\n    description: \"\",\r\n  });\r\n  const [logoFile, setLogoFile] = useState();\r\n  const [stages, setStages] = useState([]);\r\n  const [referee, setReferee] = useState([]);\r\n  const [refereeOptions, setRefereeOptions] = useState([]);\r\n  const [eventClasses, setEventClasses] = useState([]);\r\n  const [eventClassesOptions, setEventClassesOptions] = useState([]);\r\n  const [removeEvent, setRemoveEvent] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    closeOnBack(handleClose);\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getRefereeOptions`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setRefereeOptions(res.data);\r\n      });\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getEventClassesOptions`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setEventClassesOptions(res.data);\r\n      });\r\n\r\n    setEventClasses([]);\r\n    setReferee([]);\r\n    setStages([]);\r\n    if (event !== undefined) fetchEventToEdit();\r\n  }, [show]);\r\n\r\n  const handleChange = (event) => {\r\n    setMyEvent({ ...myEvent, [event.target.name]: event.target.value });\r\n  };\r\n  const handleStageChange = (event) => {\r\n    setStage({ ...stage, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleAccept = () => {\r\n    const data = {\r\n      ...myEvent,\r\n      stages: stages,\r\n      referee: referee,\r\n      eventClasses: eventClasses,\r\n      eventPaths: eventPaths,\r\n      eventFiles: [],\r\n    };\r\n\r\n    axios.put(`${backendUrl()}/event/createNew`, data).then((res) => {\r\n      eventFiles.forEach((f) =>\r\n        axios.post(\r\n          `${backendUrl()}/event/addFileToEvent?fileName=${f.fileName}&desc=${\r\n            f.description\r\n          }&eventId=${res.data}`,\r\n          f.file,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        )\r\n      );\r\n      if (logoFile)\r\n        axios.post(\r\n          `${backendUrl()}/event/addLogoFile?eventId=${res.data}`,\r\n          logoFile,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        );\r\n    });\r\n\r\n    handleClose();\r\n  };\r\n\r\n  const removeFile = (fileId) => {\r\n    if (!fileId) return;\r\n\r\n    axios.post(\r\n      `${backendUrl()}/event/removeFileFromEvent?fileId=${fileId}&eventId=${\r\n        myEvent.eventId\r\n      }`,\r\n      {\r\n        headers: authHeader(),\r\n      }\r\n    );\r\n  };\r\n\r\n  const addStage = () => {\r\n    stages.push(stage);\r\n    setStages(stages);\r\n    setStage({\r\n      index: stage.index + 1,\r\n      name: \"\",\r\n      distance: \"\",\r\n      startTime: new Date(),\r\n      startFrequency: 1,\r\n    });\r\n  };\r\n\r\n  const addClass = () => {\r\n    eventClasses.push(eventClass);\r\n    setEventClass({\r\n      carClassId: 0,\r\n      carClassName: null,\r\n      maxEngineCapacity: \"\",\r\n      eventId: event?.eventId,\r\n      awd: false,\r\n    });\r\n  };\r\n\r\n  const addPath = () => {\r\n    eventPaths.push(path);\r\n    setPath({\r\n      eventId: event?.eventId,\r\n      path: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const addFiles = () => {\r\n    eventFiles.push(file);\r\n    setFile({\r\n      eventId: event?.eventId,\r\n      file: \"\",\r\n      fileName: \"\",\r\n      description: \"\",\r\n    });\r\n  };\r\n\r\n  const removeFromStages = (id) => {\r\n    const tempStages = stages.filter((x) => x.stageId !== id);\r\n    setStages(tempStages);\r\n  };\r\n\r\n  const removeReferee = (id) => {\r\n    const tempRef = referee.filter((x) => x.userId !== id);\r\n    setReferee(tempRef);\r\n  };\r\n\r\n  const removeClass = (id) => {\r\n    const tempClass = eventClasses.filter((x) => x.carClassId !== id);\r\n    setEventClasses(tempClass);\r\n  };\r\n\r\n  const addReferee = (id) => {\r\n    const tempRef = refereeOptions.find((x) => x.value === id);\r\n    const newRef = { userId: Number(tempRef.value), username: tempRef.label };\r\n    setReferee([...referee, newRef]);\r\n  };\r\n\r\n  const addEventClass = (id) => {\r\n    const tempClass = eventClassesOptions.find((x) => x.value === id);\r\n\r\n    setEventClass({\r\n      ...eventClass,\r\n      carClassId: id,\r\n      carClassName: tempClass.label,\r\n    });\r\n  };\r\n\r\n  const fetchEventToEdit = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${event.eventId}`)\r\n      .then((res) => {\r\n        setMyEvent({\r\n          ...res.data,\r\n          date: res.data.date ? new Date(res.data.date) : new Date(),\r\n          signDeadline: res.data.signDeadline\r\n            ? new Date(res.data.signDeadline)\r\n            : new Date(),\r\n        });\r\n        setStages(\r\n          res.data.stages.map((x) => {\r\n            return { ...x, startTime: new Date(x.startTime) };\r\n          })\r\n        );\r\n        setReferee(res.data.referee);\r\n        setEventClasses(\r\n          res.data.eventClasses.map((x) => {\r\n            return { ...x, carClassName: x.carClass.name };\r\n          })\r\n        );\r\n        setEventPaths(res.data.eventPaths);\r\n        setEventFiles(res.data.eventFiles);\r\n      });\r\n  };\r\n\r\n  const fetchRemoveEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/deleteEvent?eventId=${event.eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        handleClose();\r\n      });\r\n  };\r\n\r\n  const addFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setFile({ ...file, file: formData, fileName: currentFile.name });\r\n  };\r\n\r\n  const addLogoFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setLogoFile(formData);\r\n  };\r\n\r\n  const DatePickerContainer = ({ className, children }) => {\r\n    return (\r\n      <>\r\n        <CalendarContainer className={className}>\r\n          <div style={{ display: \"flex\" }}>{children}</div>\r\n        </CalendarContainer>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark-green text-white\" closeButton>\r\n        <Modal.Title>Dodawanie nowego wydarzenia</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"row u-text-center justify-content-center\">\r\n          <Card.Body className=\"py-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-4 px-1\">\r\n                <InputLabeled\r\n                  label=\"Nazwa\"\r\n                  name=\"name\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.name}\r\n                  multiline={5}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-8 px-1\">\r\n                <InputLabeled\r\n                  label=\"Opis główny\"\r\n                  name=\"headDescription\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.headDescription}\r\n                  multiline={5}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6 px-1\">\r\n                <InputLabeled\r\n                  label=\"Opis\"\r\n                  name=\"description\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.description}\r\n                  multiline={5}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6 px-1\">\r\n                <InputLabeled\r\n                  label=\"Opis stopka\"\r\n                  name=\"footerDescription\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.footerDescription}\r\n                  multiline={5}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-3 px-1\">\r\n                <InputLabeled\r\n                  label=\"Nazwa organizatora\"\r\n                  name=\"organizer\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.organizer}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <InputLabeled\r\n                  label=\"Ścieżka do logo wydarzenia\"\r\n                  inputPlaceholder=\"http://www.akteam.pl/logo.jpg\"\r\n                  name=\"logoPath\"\r\n                  handleChange={handleChange}\r\n                  big={true}\r\n                  value={myEvent.logoPath}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <CustomDatePicker\r\n                  label={\"Data wydarzenia\"}\r\n                  onChange={(value) => setMyEvent({ ...myEvent, date: value })}\r\n                  selected={myEvent.date}\r\n                  calendarContainer={DatePickerContainer}\r\n                  //placeholderText={placeholderFrom}\r\n                  minDate={null}\r\n                  maxDate={null}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-3 px-1\">\r\n                <CustomDatePicker\r\n                  label={\"Koniec zapisów\"}\r\n                  onChange={(value) =>\r\n                    setMyEvent({ ...myEvent, signDeadline: value })\r\n                  }\r\n                  selected={myEvent.signDeadline}\r\n                  calendarContainer={DatePickerContainer}\r\n                  //placeholderText={placeholderFrom}\r\n                  minDate={new Date()}\r\n                  maxDate={null}\r\n                />\r\n              </div>\r\n            </div>\r\n            <Form.Check\r\n              label=\"Informacja o PZM w dokumentach\"\r\n              name=\"pzm\"\r\n              type={\"checkbox\"}\r\n              checked={myEvent.pzm}\r\n              onClick={(e) =>\r\n                setMyEvent({\r\n                  ...myEvent,\r\n                  pzm: e.target.checked,\r\n                })\r\n              }\r\n            />\r\n          </Card.Body>\r\n          <div className=\"col-lg-4 py-2  border-right shadow bg-white rounded\">\r\n            <div className=\"col-lg-12 border-right rounded\">\r\n              <Card className=\"text-center\">\r\n                <Card.Body className=\"p-0\">\r\n                  <Selector\r\n                    label={\"Sędziowie\"}\r\n                    options={refereeOptions}\r\n                    handleChange={(value) => addReferee(value)}\r\n                    isValid={true}\r\n                    skipDefault={true}\r\n                    searchable={true}\r\n                  />\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Login</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {referee.map((x, index) => (\r\n                        <tr key={x.userId + index}>\r\n                          <td>{x.username}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeReferee(x.userId)}\r\n                              title={\"Usuń załoge\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                </Card.Body>\r\n              </Card>\r\n              <Card className=\"text-center\">\r\n                <Card.Header className=\"bg-dark-green text-white\">\r\n                  Podział na klasy\r\n                </Card.Header>\r\n                <Card.Body className=\"p-0\">\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Klasa</th>\r\n                        <th>Max silnik [cm3]</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {eventClasses.map((x, index) => (\r\n                        <tr key={x.carClassId + index}>\r\n                          <td>{x.carClassName}</td>\r\n                          <td>{x.maxEngineCapacity}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeClass(x.carClassId)}\r\n                              title={\"Usuń klase\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                  <div className=\"d-grid\">\r\n                    <Selector\r\n                      className={\"w-50\"}\r\n                      label={\"Klasa\"}\r\n                      options={eventClassesOptions}\r\n                      handleChange={(value) => addEventClass(value)}\r\n                      isValid={true}\r\n                      value={eventClass.carClassId}\r\n                      skipDefault={true}\r\n                    />\r\n                    <InputLabeled\r\n                      label=\"Max silnik [cm3]\"\r\n                      name=\"name\"\r\n                      handleChange={(e) =>\r\n                        setEventClass({\r\n                          ...eventClass,\r\n                          maxEngineCapacity: e.target.value,\r\n                        })\r\n                      }\r\n                      big={true}\r\n                      value={eventClass.maxEngineCapacity}\r\n                    />\r\n                  </div>\r\n                  <Button\r\n                    className={\"px-4 my-3\"}\r\n                    variant=\"success\"\r\n                    onClick={addClass}\r\n                  >\r\n                    Dodaj klase\r\n                  </Button>\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja AWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.awdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        awdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja RWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.rwdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        rwdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Dodatkowa klasyfikacja FWD\"\r\n                    name=\"turbo\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.fwdClassification}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        fwdClassification: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                  <div className=\"mt-4\" />\r\n                  <Form.Check\r\n                    inline\r\n                    label=\"Klasy wybierane manualnie przy zapisach\"\r\n                    name=\"carClassManual\"\r\n                    type={\"checkbox\"}\r\n                    checked={myEvent.carClassManual}\r\n                    onClick={(e) =>\r\n                      setMyEvent({\r\n                        ...myEvent,\r\n                        carClassManual: e.target.checked,\r\n                      })\r\n                    }\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n              <Card className=\"text-center\">\r\n                <Card.Header className=\"bg-dark-green text-white\">\r\n                  Plik z logo wydarzenia\r\n                </Card.Header>\r\n                <Card.Body className=\"p-1\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"logoPathFile\"\r\n                    accept=\"image/jpg\"\r\n                    onChange={(e) => addLogoFile(e)}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-8 py-2 shadow mb-1 bg-white rounded\">\r\n            <Card>\r\n              <Card.Header className=\"bg-dark-green text-white\">\r\n                Odcinki PS/OS (w kolejności)\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                {stages.length > 0 && (\r\n                  <Table responsive>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>#</th>\r\n                        <th>Nazwa</th>\r\n                        <th>Czas startu</th>\r\n                        <th>Częstotliwość</th>\r\n                        <th className=\"text-end\">Usuń</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {stages.map((x, index) => (\r\n                        <tr key={index}>\r\n                          <td>{index}</td>\r\n                          <td>{x.name}</td>\r\n                          <td>\r\n                            {x.startTime === null\r\n                              ? \"\"\r\n                              : format(x.startTime, \"HH:mm\")}\r\n                          </td>\r\n                          <td>{x.startFrequency + \" min\"}</td>\r\n                          <td className=\"text-end\">\r\n                            <FontAwesomeIcon\r\n                              icon={faTimesCircle}\r\n                              onClick={() => removeFromStages(x.stageId)}\r\n                              title={\"Usuń załoge\"}\r\n                              cursor={\"pointer\"}\r\n                            />\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </Table>\r\n                )}\r\n                <div className=\"d-block\">\r\n                  <InputLabeled\r\n                    label=\"Nazwa\"\r\n                    name=\"name\"\r\n                    handleChange={handleStageChange}\r\n                    big={true}\r\n                    value={stage.name}\r\n                  />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-lg-3\">\r\n                    <InputLabeled\r\n                      label=\"Długość [m]\"\r\n                      name=\"distance\"\r\n                      handleChange={handleStageChange}\r\n                      big={true}\r\n                      onlyNumber={true}\r\n                      value={stage.distance}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-4\">\r\n                    <TimePicker\r\n                      label={\"Czas startu odcinka\"}\r\n                      onChange={(value) => {\r\n                        setStage({\r\n                          ...stage,\r\n                          startTime: value,\r\n                        });\r\n                      }}\r\n                      calendarContainer={DatePickerContainer}\r\n                      minDate={new Date()}\r\n                      maxDate={null}\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-lg-5\">\r\n                    <InputLabeled\r\n                      label=\"Częstotliwość startów [min]\"\r\n                      name=\"startFrequency\"\r\n                      handleChange={handleStageChange}\r\n                      big={true}\r\n                      value={stage.startFrequency}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center py-3\">\r\n                  <Button\r\n                    className={\"px-4 mx-3\"}\r\n                    variant=\"success\"\r\n                    onClick={addStage}\r\n                  >\r\n                    Dodaj odcinek\r\n                  </Button>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark-green text-white\">\r\n                Linki do regulaminow, informacji itd.\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Link</th>\r\n                      <th>Opis</th>\r\n                      <th className=\"text-end\">Usuń</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {eventPaths.map((path, index) => (\r\n                      <tr key={index}>\r\n                        <td>{path.path}</td>\r\n                        <td>{path.description}</td>\r\n                        <td className=\"text-end\">\r\n                          <FontAwesomeIcon\r\n                            icon={faTimesCircle}\r\n                            onClick={() =>\r\n                              setEventPaths(\r\n                                eventPaths.filter(\r\n                                  (elem) => elem.path !== path.path\r\n                                )\r\n                              )\r\n                            }\r\n                            title={\"Usuń link\"}\r\n                            cursor={\"pointer\"}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n                <div className=\"d-grid\">\r\n                  <InputLabeled\r\n                    label=\"Link/ścieżka\"\r\n                    name=\"path\"\r\n                    handleChange={(e) =>\r\n                      setPath({ ...path, path: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={path.path}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Opis\"\r\n                    name=\"description\"\r\n                    handleChange={(e) =>\r\n                      setPath({ ...path, description: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={path.description}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  className={\"px-4 my-3\"}\r\n                  variant=\"success\"\r\n                  onClick={addPath}\r\n                  disabled={path.description === \"\" || path.link === \"\"}\r\n                >\r\n                  Dodaj link\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark-green text-white\">\r\n                Pliki\r\n              </Card.Header>\r\n              <Card.Body className=\"p-0\">\r\n                <Table responsive>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Plik</th>\r\n                      <th>Opis</th>\r\n                      <th className=\"text-end\">Usuń</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {eventFiles.map((file, index) => (\r\n                      <tr key={index}>\r\n                        <td>{file.fileName}</td>\r\n                        <td>{file.description}</td>\r\n                        <td className=\"text-end\">\r\n                          <FontAwesomeIcon\r\n                            icon={faTimesCircle}\r\n                            onClick={() => {\r\n                              removeFile(file.id);\r\n                              setEventFiles(\r\n                                eventFiles.filter(\r\n                                  (elem) => elem.fileName !== file.fileName\r\n                                )\r\n                              );\r\n                            }}\r\n                            title={\"Usuń plik\"}\r\n                            cursor={\"pointer\"}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </Table>\r\n                <div className=\"d-grid\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    accept=\"application/pdf,application/vnd.ms-excel\"\r\n                    onChange={(e) => addFile(e)}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Opis\"\r\n                    name=\"description\"\r\n                    handleChange={(e) =>\r\n                      setFile({ ...file, description: e.target.value })\r\n                    }\r\n                    big={true}\r\n                    value={file.description}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  className={\"px-4 my-3\"}\r\n                  variant=\"success\"\r\n                  onClick={addFiles}\r\n                  disabled={file.description === \"\" || file.fileName === \"\"}\r\n                >\r\n                  Dodaj plik\r\n                </Button>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n        {removeEvent && (\r\n          <OkCancelModal\r\n            show={true}\r\n            title={\"Usuwanie wydarzenia\"}\r\n            text={`Czy napewno chcesz usunąć wydarzenie? Operacja nieodwracalna`}\r\n            handleAccept={() => {\r\n              fetchRemoveEvent();\r\n              setRemoveEvent(false);\r\n            }}\r\n            handleClose={() => setRemoveEvent(false)}\r\n          />\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        {event && (\r\n          <Button\r\n            className={\"mx-3\"}\r\n            variant=\"secondary\"\r\n            onClick={() => setRemoveEvent(true)}\r\n          >\r\n            Usuń wydarzenie\r\n          </Button>\r\n        )}\r\n        <Button className={\"mx-3\"} variant=\"secondary\" onClick={handleClose}>\r\n          Anuluj\r\n        </Button>\r\n        <Button\r\n          className={\"px-4 mx-3\"}\r\n          variant=\"success\"\r\n          onClick={handleAccept}\r\n          disabled={stages.length === 0}\r\n        >\r\n          OK\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nimport Badge from \"react-bootstrap/Badge\";\r\n\r\nexport const Count = ({\r\n  count,\r\n  lPos = \"-3vh\",\r\n  bg = \"secondary\",\r\n  title = \"\",\r\n}) => {\r\n  return (\r\n    <div\r\n      data-bs-toggle=\"tooltip\"\r\n      title={title}\r\n      className=\"user-select-none position-relative\"\r\n      style={{ left: lPos, top: \"-15px\" }}\r\n    >\r\n      {count > 0 && (\r\n        <>\r\n          <Badge className=\"position-absolute\" pill bg={bg}>\r\n            {count}\r\n          </Badge>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar, faEdit } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { fetchDriverCount, fetchStatementsCount } from \"../utils/fetchUtils\";\r\nimport { Count } from \"./Count\";\r\nimport { useGetLogoPathByEventIdQuery } from \"../../service/rtk-fetch-api\";\r\n\r\nexport const EventCard = ({\r\n  event,\r\n  onJoin,\r\n  onTeamList,\r\n  onScore,\r\n  onEdit,\r\n  onStatement,\r\n  mainAdmin,\r\n}) => {\r\n  const eventDeadlined =\r\n    new Date().getTime() > new Date(event.signDeadline).getTime();\r\n  const [statementCount, setStatementCount] = useState(0);\r\n  const [driverCount, setDriverCount] = useState(0);\r\n  const { data: logoDto } = useGetLogoPathByEventIdQuery(event.eventId, {\r\n    skip: event === undefined,\r\n  });\r\n\r\n  const signDeadlineCount = moment(event?.signDeadline)\r\n    .startOf(\"day\")\r\n    .diff(moment().startOf(\"day\"), \"days\");\r\n\r\n  const eventCount = moment(event?.date)\r\n    .startOf(\"day\")\r\n    .diff(moment().startOf(\"day\"), \"days\");\r\n\r\n  const getTxtCount = (count) => {\r\n    return count === 0\r\n      ? \"DZISIAJ!\"\r\n      : count === 1\r\n      ? \"jutro!\"\r\n      : \"za \" + count + \" dni\";\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (event) {\r\n      fetchStatementsCount(event.eventId, (data) => setStatementCount(data));\r\n      fetchDriverCount(event.eventId, (data) => setDriverCount(data));\r\n      // fetchLogo(event.eventId, (data) => setLogoDto(data));\r\n    }\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   if (logoDto.file === undefined) {\r\n  //     setTimeout(\r\n  //       () => fetchLogo(event.eventId, (data) => setLogoDto(data)),\r\n  //       3000\r\n  //     );\r\n  //   }\r\n  // }, [logoDto]);\r\n\r\n  return (\r\n    <div className=\"col-lg-6 py-1 px-1 no-opacity-hover opacity-90a\">\r\n      <Card className=\"shadow-sm\">\r\n        <Card.Header className=\"bg-secondary-green text-white text-start fw-bold py-1\">\r\n          <div className=\"row px-1\">\r\n            <div className=\"col-11 px-0\">{event?.name}</div>\r\n            <div className=\"col-1 px-0 text-end\">\r\n              {onEdit !== undefined && mainAdmin && (\r\n                <FontAwesomeIcon\r\n                  className={\"text-white fa-lg\"}\r\n                  icon={faEdit}\r\n                  onClick={onEdit}\r\n                  cursor={\"pointer\"}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card.Header>\r\n        <Card.Body className=\"p-1\">\r\n          <div\r\n            style={{ whiteSpace: \"break-spaces\" }}\r\n            className=\"position-absolute end-0 mx-1 badge bg-primary-green text-wrap fst-italic\"\r\n          >\r\n            {`${moment(event?.date).format(\"dddd, DD MMM YYYY, HH:mm\")}\r\n            ${eventCount >= 0 ? \"(\" + getTxtCount(eventCount) + \")\" : \"\"}`}\r\n          </div>\r\n          <div className=\"container d-flex\">\r\n            <div\r\n              className=\"col-lg-4 px-0 align-self-center\"\r\n              style={{\r\n                width: \"200px\",\r\n                maxHeight: \"150px\",\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              {logoDto?.file ? (\r\n                <img\r\n                  id={\"eventImage\" + event.eventId}\r\n                  className=\"img-fluid rounded float-left\"\r\n                  style={{ objectFit: \"contain\" }}\r\n                  src={\"data:image/jpg;base64,\" + logoDto?.file}\r\n                  alt=\"Logo\"\r\n                ></img>\r\n              ) : (\r\n                event.logoPath && (\r\n                  <img\r\n                    className=\"img-fluid rounded float-left\"\r\n                    style={{ objectFit: \"contain\" }}\r\n                    src={event.logoPath}\r\n                    alt=\"Logo\"\r\n                  ></img>\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"col-lg-8 mt-3\">\r\n              {event.organizer !== undefined && event.organizer !== null && (\r\n                <h6 className=\"m-3 \">{`Organizator: ${event.organizer}`}</h6>\r\n              )}\r\n              {new Date(event?.signDeadline) >= new Date() && (\r\n                <>\r\n                  <h6\r\n                    style={{ whiteSpace: \"break-spaces\" }}\r\n                    className=\"font13 fw-bold fst-italic mt-2\"\r\n                  >\r\n                    {`Koniec zapisów ${getTxtCount(\r\n                      signDeadlineCount\r\n                    )}\\n${moment(event?.signDeadline).format(\r\n                      \"dddd, DD MMM YYYY, HH:mm\"\r\n                    )}`}\r\n                  </h6>\r\n                </>\r\n              )}\r\n              {new Date(event?.signDeadline) < new Date() && (\r\n                <p className=\"fw-bold fst-italic mt-2\">{\"Zapisy zamknięte\"}</p>\r\n              )}\r\n              {event.joined && (\r\n                <div className=\"d-inline-flex\">\r\n                  <FontAwesomeIcon\r\n                    className={\"text-success fa-lg\"}\r\n                    icon={faStar}\r\n                  />\r\n                  <h6>Jesteś zapisany</h6>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Card.Body>\r\n        <Card.Footer className=\"text-start py-0 px-1\">\r\n          <div className=\"row my-2 mx-0\">\r\n            <div className=\"col-6 px-0\">\r\n              {/* {new Date().getTime() <=\r\n                new Date(event.signDeadline).getTime() && ( */}\r\n              <Button\r\n                className={\"start-0 py-1 px-1 \"}\r\n                variant=\"success\"\r\n                onClick={onJoin}\r\n              >\r\n                {eventDeadlined\r\n                  ? \"Informacje\"\r\n                  : event.joined\r\n                  ? \"Moje zgłoszenie\"\r\n                  : \"Info / Zgłoszenia\"}\r\n              </Button>\r\n              {/* )} */}\r\n            </div>\r\n            <div className=\"col-6 px-0 d-flex justify-content-end\">\r\n              <Button\r\n                className={\"py-1 px-2 mx-1\"}\r\n                variant=\"dark\"\r\n                onClick={onTeamList}\r\n              >\r\n                Lista\r\n              </Button>\r\n              <Count\r\n                count={driverCount}\r\n                lPos=\"-3.5vh\"\r\n                bg=\"primary\"\r\n                title={\"Liczba zapisanych\"}\r\n              />\r\n              <Button\r\n                className={\"py-1 px-1 mx-1\"}\r\n                variant=\"warning\"\r\n                onClick={onStatement}\r\n              >\r\n                Komunikaty\r\n              </Button>\r\n              <Count count={statementCount} title={\"Liczba komunikatów\"} />\r\n              <Button\r\n                className={\"py-1 px-1 mx-1\"}\r\n                variant=\"success\"\r\n                onClick={onScore}\r\n              >\r\n                Wyniki\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card.Footer>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { backendUrl, fetchPsOptions } from \"../utils/fetchUtils\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { NrBadge } from \"../common/NrBadge\";\r\nimport { CarDiv, TeamDiv } from \"../common/Div\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheck, faQuestion } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\nimport { Selector } from \"../common/Selector\";\r\n\r\nexport const TeamListModal = ({ show, handleClose, eventId, started }) => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [startEvent, setStartEvent] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [referee, setReferee] = useState(false);\r\n  const [classesOptions, setClassesOptions] = useState([]);\r\n  const [classFilter, setClassFilter] = useState(\"0\");\r\n\r\n  const fetchTeams = () => {\r\n    if (eventId === undefined) return;\r\n    axios\r\n      .get(`${backendUrl()}/event/getBasicTeams?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setTeams(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      closeOnBack(handleClose);\r\n      setLoading(true);\r\n      setTeams([]);\r\n      fetchPsOptionsFnc();\r\n    }\r\n    fetchTeams();\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    setTeams([]);\r\n    fetchTeams();\r\n  }, [referee]);\r\n\r\n  const fetchPsOptionsFnc = () => {\r\n    fetchPsOptions(eventId, (data) => {\r\n      const arr = [{ label: \"WSZYSTKIE KLASY\", value: \"0\", defValue: true }];\r\n      data.classesOptions\r\n        .filter((v) => v.label !== \"GENERALNA\" && v.label !== \"GENERALNA+GOŚĆ\")\r\n        .forEach((x) => arr.push(x));\r\n      setClassesOptions(arr || []);\r\n    });\r\n  };\r\n\r\n  const getEngineDesc = (car) => {\r\n    const turbo = car?.turbo ? \" (T)\" : \"\";\r\n\r\n    return car?.engineCapacity + \" cm3\" + turbo;\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"8%\",\r\n        id: \"index\",\r\n        Header: \"L.p\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <div className=\"ps-2\"> {row.row.index + 1}</div>,\r\n      },\r\n      {\r\n        width: \"9%\",\r\n        id: \"#\",\r\n        Header: \"#Nr\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <NrBadge value={row.value}></NrBadge>,\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"team\",\r\n        Header: \"Załoga\",\r\n        disableFilters: true,\r\n        Cell: (row) => (\r\n          <TeamDiv\r\n            team={{\r\n              driver: row.row.original.driver,\r\n              coDriver: row.row.original.coDriver,\r\n              club: row.row.original.club,\r\n              coClub: row.row.original.coClub,\r\n              teamName: row.row.original.teamName,\r\n            }}\r\n          ></TeamDiv>\r\n        ),\r\n      },\r\n      {\r\n        width: \"30%\",\r\n        id: \"car\",\r\n        Header: \"Samochód\",\r\n        accessor: (cellInfo) => cellInfo.car,\r\n        disableFilters: true,\r\n        Cell: (row) => (\r\n          <CarDiv\r\n            line1={(row.value?.brand || \"\") + \" \" + (row.value?.model || \"\")}\r\n            line2={row.row.original.carClass.name}\r\n            carBrand={row.value?.brand}\r\n            driveType={row.value?.driveTypeEnum}\r\n          ></CarDiv>\r\n        ),\r\n      },\r\n      {\r\n        width: \"11%\",\r\n        id: \"engine\",\r\n        Header: \"Silnik\",\r\n        accessor: (cellInfo) => getEngineDesc(cellInfo.car),\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"11%\",\r\n        id: \"entryFee\",\r\n        Header: \"Potwierdz.\",\r\n        accessor: (cellInfo) => cellInfo.entryFeePaid,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return (\r\n            <FontAwesomeIcon\r\n              icon={row.value ? faCheck : faQuestion}\r\n              style={{ color: row.value ? \"green\" : \"black\" }}\r\n              title={\r\n                row.value ? \"Potwierdzony\" : \"Dodaj potwierdzenie przelewu\"\r\n              }\r\n              cursor={\"pointer\"}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"xl\"\r\n    >\r\n      <Modal.Header className=\"bg-dark-green text-white\" closeButton>\r\n        <Modal.Title>Lista zapisanych</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"px-0\">\r\n        {loading && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {!loading && teams.length === 0 && (\r\n          <h2 className=\"text-center\">Brak zgłoszeń - bądź pierwszy!</h2>\r\n        )}\r\n        {!loading && teams?.length > 0 && (\r\n          <>\r\n            <div className=\"row pt-0 mx-0 card-body\">\r\n              <div className=\"col-xl-4 px-0 pe-1\"></div>\r\n              <div className=\"col-xl-4 px-0 pe-1\">\r\n                <Selector\r\n                  label={\"Filtruj klasami\"}\r\n                  options={classesOptions}\r\n                  handleChange={(value) => {\r\n                    setClassFilter(value);\r\n                  }}\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <ResultTable\r\n              columns={columns}\r\n              data={\r\n                classFilter !== \"0\"\r\n                  ? teams.filter(\r\n                      (x) =>\r\n                        x.carClass.name === classFilter ||\r\n                        x.car.driveTypeEnum === classFilter\r\n                    )\r\n                  : teams\r\n              }\r\n              isLoading={false}\r\n              isFooter={false}\r\n              isHeader={true}\r\n              manualPagination={true}\r\n            />\r\n          </>\r\n        )}\r\n      </Modal.Body>\r\n      <Modal.Footer className={\"justify-content-center\"}>\r\n        <div className=\"d-grid\">\r\n          {/* {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setStartEvent(true)}\r\n              disabled={started}\r\n            >\r\n              Zamknij liste / Rozpocznij wydarzenie\r\n            </Button>\r\n          )} */}\r\n          <Button className={\"m-1\"} variant=\"secondary\" onClick={handleClose}>\r\n            Anuluj\r\n          </Button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport {\r\n  faBuilding,\r\n  faCar,\r\n  faCarAlt,\r\n  faUserAstronaut,\r\n  faUserClock,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const QuickJoinPanel = ({ show, handleClose, eventId }) => {\r\n  const [msg, setMsg] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState();\r\n  const [team, setTeam] = useState({\r\n    coSportLicense: false,\r\n    sportLicense: false,\r\n    birthDate: new Date(),\r\n    currentCar: {\r\n      carId: null,\r\n      brand: \"\",\r\n      model: \"\",\r\n      year: \"\",\r\n      licensePlate: \"\",\r\n      vin: \"\",\r\n      engineCapacity: \"\",\r\n      turbo: false,\r\n      driveType: \"1\",\r\n      petrol: \"BENZYNA\",\r\n      insurance: \"\",\r\n      insuranceExpiryDate: new Date(),\r\n      carInspectionExpiryDate: new Date(),\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      closeOnBack(handleClose);\r\n\r\n      axios.get(`${backendUrl()}/team/getTeamOptionList`).then((res) => {\r\n        setOptions(res.data);\r\n      });\r\n      setTeam({\r\n        coSportLicense: false,\r\n        sportLicense: false,\r\n        birthDate: new Date(),\r\n        currentCar: {\r\n          carId: null,\r\n          brand: \"\",\r\n          model: \"\",\r\n          year: \"\",\r\n          licensePlate: \"\",\r\n          vin: \"\",\r\n          engineCapacity: \"\",\r\n          turbo: false,\r\n          driveType: \"1\",\r\n          petrol: \"BENZYNA\",\r\n          insurance: \"\",\r\n          insuranceExpiryDate: new Date(),\r\n          carInspectionExpiryDate: new Date(),\r\n        },\r\n      });\r\n      setMsg();\r\n      setLoading(false);\r\n    }\r\n  }, [show]);\r\n\r\n  const fetchAddTeam = () => {\r\n    setLoading(true);\r\n    axios\r\n      .post(`${backendUrl()}/team/addTeam?eventId=${eventId}`, team, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setMsg(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    fetchAddTeam();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"l\"\r\n    >\r\n      <Modal.Header className=\"bg-dark-green text-white\" closeButton>\r\n        <Modal.Title>Szybkie dodawanie zawodnika</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko kierowcy\"\r\n                  name=\"driver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, driver: e.target.value })\r\n                  }\r\n                  value={team.driver}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faUserAstronaut}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko pilota\"\r\n                  name=\"coDriver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coDriver: e.target.value })\r\n                  }\r\n                  value={team.coDriver}\r\n                  big={true}\r\n                  icon={faUserClock}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub kierowcy\"\r\n                  name=\"club\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, club: e.target.value })\r\n                  }\r\n                  value={team.club}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub pilota\"\r\n                  name=\"coClub\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coClub: e.target.value })\r\n                  }\r\n                  value={team.coClub}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Marka samochodu\"\r\n                  name=\"carBrand\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, brand: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.brand}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCar}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Model samochodu\"\r\n                  name=\"carModel\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, model: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.model}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCarAlt}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Pojemność silnika [cm3]\"\r\n                  name=\"engineCapacity\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        engineCapacity: e.target.value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar.engineCapacity}\r\n                  big={true}\r\n                  required={true}\r\n                  onlyNumber={true}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Selector\r\n                  label={\"Rodzaj napędu\"}\r\n                  options={options?.driveTypeOption}\r\n                  handleChange={(value) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        driveType: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Form>\r\n                <span className={\"py-0 mb-2 mt-1 mx-1 input-group-text\"}>\r\n                  Turbo\r\n                </span>\r\n                <Form.Check\r\n                  inline\r\n                  label=\"TAK\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-1`}\r\n                  checked={team.currentCar.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: true },\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label=\"NIE\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-2`}\r\n                  checked={!team.currentCar.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: false },\r\n                    })\r\n                  }\r\n                />\r\n              </Form>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              <h4 className=\"text-success fw-bold\">{msg}</h4>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"success\"\r\n              type=\"submit\"\r\n              disabled={msg}\r\n            >\r\n              Dołącz do wydarzenia\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              {msg ? \"Ok\" : \"Wyjdź\"}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import authHeader from \"../../service/auth-header\";\r\n\r\nexport function download(url, filename, handleResponse) {\r\n  fetch(url, {\r\n    headers: authHeader(),\r\n  }).then(function (t) {\r\n    return t.blob().then((b) => {\r\n      var a = document.createElement(\"a\");\r\n      a.href = URL.createObjectURL(b);\r\n      a.setAttribute(\"download\", filename);\r\n      a.click();\r\n      if (handleResponse) handleResponse();\r\n    });\r\n  });\r\n}\r\n\r\nexport function openFile(file, filename) {\r\n  //window.open(`data:application/${filename.split(\".\").pop()};base64, ` + file);\r\n  var bytes = _base64ToArrayBuffer(file);\r\n  var link = new Blob([bytes], {\r\n    type: \"application/octet-stream\",\r\n    //type: \"application/\" + filename.split(\".\").pop(),\r\n  });\r\n  var a = document.createElement(\"a\");\r\n  a.href = URL.createObjectURL(link);\r\n  a.target = \"_blank\";\r\n  a.setAttribute(\"download\", filename);\r\n  a.click();\r\n}\r\n\r\n//Base64 conversion\r\nexport function _base64ToArrayBuffer(base64) {\r\n  var binary_string = window.atob(base64);\r\n  var len = binary_string.length;\r\n  var bytes = new Uint8Array(len);\r\n  for (var i = 0; i < len; i++) {\r\n    bytes[i] = binary_string.charCodeAt(i);\r\n  }\r\n  return bytes.buffer;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport {\r\n  backendUrl,\r\n  fetchLogo,\r\n  fetchRemoveFromEvent,\r\n} from \"../utils/fetchUtils\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport moment from \"moment\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faStar } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { QuickJoinPanel } from \"../join/QuickJoinPanel\";\r\nimport { TeamModal } from \"../team/TeamModal\";\r\nimport { download } from \"../utils/fileUtils\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const EventModal = ({ show, handleClose, event }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const [team, setTeam] = useState(undefined);\r\n  const [file, setFile] = useState();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [fileMsg, setFileMsg] = useState();\r\n  const [notJoined, setNotJoined] = useState(false);\r\n  const [myEvent, setMyEvent] = useState();\r\n  const [quickJoin, setQuickJoin] = useState();\r\n  const [activeTab, setActiveTab] = useState(1);\r\n  const [fillTeam, setFillTeam] = useState();\r\n  const [logoDto, setLogoDto] = useState({});\r\n\r\n  const loggedUser = sessionStorage.getItem(\"username\") !== null;\r\n\r\n  useEffect(() => {\r\n    if (!show) {\r\n      setLogoDto({});\r\n      return;\r\n    }\r\n    closeOnBack(handleClose);\r\n\r\n    fetchGetTeam();\r\n    setUploading(false);\r\n    setFileMsg();\r\n    setNotJoined(false);\r\n    setMyEvent(event);\r\n    fetchLogo(event.eventId, (data) => setLogoDto(data));\r\n  }, [show]);\r\n\r\n  const signDeadlined = event\r\n    ? new Date().getTime() > new Date(event.signDeadline).getTime()\r\n    : false;\r\n\r\n  const fetchGetTeam = () => {\r\n    axios\r\n      .get(`${backendUrl()}/team/getTeam`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setNotJoined(res.data === \"\");\r\n        if (res.data !== \"\") setTeam(res.data);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (event?.eventId !== undefined && team?.teamId !== undefined)\r\n      axios\r\n        .get(\r\n          `${backendUrl()}/event/getEntryFeeFile?eventId=${\r\n            event.eventId\r\n          }&teamId=${team.teamId}`\r\n        )\r\n        .then((res) => {\r\n          if (res.status === 204) setNotJoined(true);\r\n          else setFileMsg(\"Mamy już Twoje potwierdzenie\");\r\n        })\r\n        .catch((error) => {\r\n          setFileMsg();\r\n        });\r\n  }, [team]);\r\n\r\n  const doRemoveFromEvent = () => {\r\n    fetchRemoveFromEvent(event.eventId, team?.teamId, () => {\r\n      setMyEvent({ ...myEvent, joined: false });\r\n      setNotJoined(true);\r\n    });\r\n  };\r\n\r\n  const fetchUpload = (eventId, teamId) => {\r\n    if (file.size > 2 * 1024 * 1024) {\r\n      setFileMsg(\"Plik jest zbyt duży (maksymalnie 2mb)\");\r\n      return;\r\n    }\r\n    setUploading(true);\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/event/addEntryFeeFile?eventId=${eventId}&teamId=${teamId}`,\r\n        formData,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setUploading(false);\r\n        res.data\r\n          ? setFileMsg(\"Plik został dodany\")\r\n          : setFileMsg(\"Plik NIE został dodany - błąd\");\r\n      });\r\n  };\r\n\r\n  const downloadFile = (e, file) => {\r\n    e.preventDefault();\r\n    download(`${backendUrl()}/event/getEventFile?id=${file.id}`, file.fileName);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal\r\n        style={{ zIndex: quickJoin || fillTeam ? 1000 : 1055 }}\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header className=\"bg-dark-green text-white\" closeButton>\r\n          <Modal.Title className=\"w-100 row\">\r\n            <div className=\"col-lg-8\">{`Informacje o wydarzeniu`}</div>\r\n            {myEvent?.joined && (\r\n              <div className=\"col-lg-4\">\r\n                <FontAwesomeIcon\r\n                  className={\"text-success fa-lg\"}\r\n                  icon={faStar}\r\n                />\r\n                Jesteś zapisany\r\n              </div>\r\n            )}\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n\r\n        <Tabs\r\n          activeKey={activeTab}\r\n          onSelect={(key) => setActiveTab(key)}\r\n          className=\"m-0 fw-bold text-dark\"\r\n        >\r\n          <Tab eventKey={1} title=\"Informacje\">\r\n            <div className=\"row text-center px-2\">\r\n              <div className=\"col-lg-7 px-0\">\r\n                <h3>{event?.name || \"\"}</h3>\r\n                <h6>{`Data wydarzenia:  `}</h6>\r\n                <h6 className=\"fw-bold\">\r\n                  {moment(event?.date).format(\" dddd, DD MMM YYYY, HH:mm\")}\r\n                </h6>\r\n                <p className=\"fw-bold fst-italic m-2\">\r\n                  {`Koniec zapisów:  ${moment(event?.signDeadline).format(\r\n                    \"dddd, DD MMM YYYY, HH:mm\"\r\n                  )}`}\r\n                </p>\r\n                <h6 style={{ whiteSpace: \"pre-line\" }} className=\"ps-2 py-2\">\r\n                  {event?.headDescription || \"\"}\r\n                </h6>\r\n              </div>\r\n              <div className=\"col-lg-5 py-1  align-items-center d-flex\">\r\n                {logoDto?.file ? (\r\n                  <img\r\n                    id={\"eventImage\" + event?.eventId}\r\n                    style={{\r\n                      maxHeight: \"450px\",\r\n                    }}\r\n                    className=\"pt-2 img-fluid rounded float-left\"\r\n                    src={\"data:image/jpg;base64,\" + logoDto.file}\r\n                    alt=\"Logo\"\r\n                  ></img>\r\n                ) : (\r\n                  event?.logoPath !== undefined &&\r\n                  event?.logoPath !== null && (\r\n                    <div className=\"\">\r\n                      <img\r\n                        style={{\r\n                          maxHeight: \"450px\",\r\n                          position: \"relative\",\r\n                          top: \"30%\",\r\n                        }}\r\n                        className=\"img-fluid rounded float-left\"\r\n                        src={event.logoPath}\r\n                        alt=\"Logo\"\r\n                      ></img>\r\n                    </div>\r\n                  )\r\n                )}\r\n              </div>\r\n              <div className=\"col-lg-12 py-2\">\r\n                <p\r\n                  style={{ whiteSpace: \"pre-line\" }}\r\n                  className=\"font14 m-1 py-2\"\r\n                >\r\n                  {event?.description || \"\"}\r\n                </p>\r\n                <p style={{ whiteSpace: \"pre-line\" }} className=\"font12 m-1\">\r\n                  {event?.footerDescription || \"\"}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <Card className=\"text-center\">\r\n              <Card.Header className=\"bg-dark-green text-white\">\r\n                Do pobrania:\r\n              </Card.Header>\r\n              <Card.Body>\r\n                <div className=\"row \">\r\n                  <div className=\"col-lg-12 px-0\">\r\n                    {event?.eventPaths?.map((path, index) => (\r\n                      <h6 key={index} className=\"my-1\">\r\n                        <a\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          href={\r\n                            path.path.startsWith(\"http\")\r\n                              ? path.path\r\n                              : \"http://\" + path.path\r\n                          }\r\n                        >\r\n                          {path.description}\r\n                        </a>\r\n                      </h6>\r\n                    ))}\r\n                    {event?.eventFiles?.map((file, index) => (\r\n                      <h6 key={index} className=\"my-1\">\r\n                        <a href={\"www\"} onClick={(e) => downloadFile(e, file)}>\r\n                          {file.description}\r\n                        </a>\r\n                      </h6>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </Card.Body>\r\n            </Card>\r\n          </Tab>\r\n          {!loggedUser ? (\r\n            <></>\r\n          ) : (\r\n            <Tab eventKey={2} title=\"Wpisowe\">\r\n              <div className=\"row mx-2 justify-content-center\">\r\n                <div className=\"col-lg-6 pb-3 px-1\">\r\n                  <h5 className=\"text-center py-4\">\r\n                    Tutaj możesz dodać plik z potwierdzeniem wpisowego,\r\n                    przyspieszy to proces odbioru administracyjnego\r\n                  </h5>\r\n                  <Card className=\"text-center \">\r\n                    <Card.Header className=\"bg-dark-green text-white\">\r\n                      Wpisowe\r\n                    </Card.Header>\r\n                    <Card.Body>\r\n                      {notJoined ? (\r\n                        <p>\r\n                          Zapisz się a następnie będziesz miał możliwość\r\n                          przesłania pliku\r\n                        </p>\r\n                      ) : (\r\n                        <p>Dodaj plik z potwierdzeniem opłacenia wpisowego</p>\r\n                      )}\r\n                      <input\r\n                        disabled={notJoined}\r\n                        type=\"file\"\r\n                        name=\"file\"\r\n                        accept=\"application/pdf,application/vnd.ms-excel\"\r\n                        onChange={(e) => setFile(e.target.files[0])}\r\n                      />\r\n                      {fileMsg && <p className=\"fw-bold m-2\">{fileMsg}</p>}\r\n                      <div>\r\n                        {uploading ? (\r\n                          <Spinner animation=\"border\" variant=\"secondary\" />\r\n                        ) : (\r\n                          <Button\r\n                            className={\"mt-2 mb-0\"}\r\n                            variant=\"secondary\"\r\n                            onClick={() =>\r\n                              fetchUpload(event.eventId, team.teamId)\r\n                            }\r\n                            disabled={file === undefined}\r\n                          >\r\n                            Wyślij plik\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                </div>\r\n              </div>\r\n            </Tab>\r\n          )}\r\n        </Tabs>\r\n        <Modal.Footer>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-xl-12 d-flex\">\r\n              <div className=\"\">\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"success\"\r\n                  form=\"teamForm\"\r\n                  onClick={() => {\r\n                    loggedUser\r\n                      ? setFillTeam(true)\r\n                      : navigate(`login?${event.eventId}`);\r\n                  }}\r\n                  disabled={signDeadlined && notJoined}\r\n                >\r\n                  {notJoined ? \"Zapisz się\" : \"Edytuj dane\"}\r\n                </Button>\r\n              </div>\r\n              <div className=\"\">\r\n                {/* <Button\r\n                className={\"m-1\"}\r\n                variant=\"success\"\r\n                onClick={() => {\r\n                  loggedUser ? setFillTeam(true) : navigate(`login?${event.eventId}`);\r\n                }}\r\n              >\r\n                {myEvent?.joined ? \"Ok\" : \"Zapisz (po zalogowaniu)\"}\r\n              </Button> */}\r\n                <Button\r\n                  className={\"m-1\"}\r\n                  variant=\"secondary\"\r\n                  onClick={handleClose}\r\n                >\r\n                  Zamknij okno\r\n                </Button>\r\n                {myEvent?.joined && (\r\n                  <Button\r\n                    className={\"mx-3\"}\r\n                    variant=\"danger\"\r\n                    onClick={() => doRemoveFromEvent()}\r\n                    disabled={signDeadlined}\r\n                  >\r\n                    Wypisz się\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <QuickJoinPanel\r\n        show={quickJoin}\r\n        handleClose={() => setQuickJoin()}\r\n        eventId={event?.eventId}\r\n      />\r\n      <TeamModal\r\n        show={fillTeam}\r\n        handleClose={() => setFillTeam()}\r\n        handleOk={() => handleClose()}\r\n        myEvent={event}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport {\r\n  faBuilding,\r\n  faCar,\r\n  faCarAlt,\r\n  faUserAstronaut,\r\n  faUserClock,\r\n  faUserFriends,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const BasicTeamDataForm = ({\r\n  show,\r\n  myTeam,\r\n  eventId,\r\n  onSave,\r\n  okBtnLabel,\r\n  handleClose,\r\n  title,\r\n}) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [options, setOptions] = useState();\r\n  const [team, setTeam] = useState(myTeam);\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      closeOnBack(handleClose);\r\n      axios.get(`${backendUrl()}/team/getTeamOptionList`).then((res) => {\r\n        setOptions(res.data);\r\n      });\r\n      setLoading(false);\r\n    }\r\n  }, [show]);\r\n\r\n  const handleSubmit = (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n    onSave(team);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"l\"\r\n    >\r\n      <Modal.Header closeButton className=\"bg-dark-green text-white\">\r\n        <Modal.Title className=\"text-white\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko kierowcy\"\r\n                  name=\"driver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, driver: e.target.value })\r\n                  }\r\n                  value={team.driver}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faUserAstronaut}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Imie i nazwisko pilota\"\r\n                  name=\"coDriver\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coDriver: e.target.value })\r\n                  }\r\n                  value={team.coDriver}\r\n                  big={true}\r\n                  icon={faUserClock}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub kierowcy\"\r\n                  name=\"club\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, club: e.target.value })\r\n                  }\r\n                  value={team.club}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Automobilklub pilota\"\r\n                  name=\"coClub\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, coClub: e.target.value })\r\n                  }\r\n                  value={team.coClub}\r\n                  big={true}\r\n                  icon={faBuilding}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <InputLabeled\r\n                  label=\"Nazwa Teamu\"\r\n                  name=\"teamName\"\r\n                  handleChange={(e) =>\r\n                    setTeam({ ...team, teamName: e.target.value })\r\n                  }\r\n                  value={team.teamName}\r\n                  big={true}\r\n                  icon={faUserFriends}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Marka samochodu\"\r\n                  name=\"carBrand\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, brand: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.brand}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCar}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Model samochodu\"\r\n                  name=\"carModel\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, model: e.target.value },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.model}\r\n                  big={true}\r\n                  required={true}\r\n                  icon={faCarAlt}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <InputLabeled\r\n                  label=\"Pojemność silnika [cm3]\"\r\n                  name=\"engineCapacity\"\r\n                  handleChange={(e) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        engineCapacity: e.target.value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.engineCapacity}\r\n                  big={true}\r\n                  required={true}\r\n                  onlyNumber={true}\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Selector\r\n                  label={\"Rodzaj napędu\"}\r\n                  options={options?.driveTypeOption}\r\n                  handleChange={(value) =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: {\r\n                        ...team.currentCar,\r\n                        driveType: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  value={team.currentCar?.driveType}\r\n                  isValid={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center\">\r\n              <Form>\r\n                <span className={\"py-0 mb-2 mt-1 mx-1 input-group-text\"}>\r\n                  Turbo\r\n                </span>\r\n                <Form.Check\r\n                  inline\r\n                  label=\"TAK\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-1`}\r\n                  checked={team.currentCar?.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: true },\r\n                    })\r\n                  }\r\n                />\r\n                <Form.Check\r\n                  inline\r\n                  label=\"NIE\"\r\n                  name=\"turbo\"\r\n                  type={\"radio\"}\r\n                  id={`inline-2`}\r\n                  checked={!team.currentCar?.turbo}\r\n                  onClick={() =>\r\n                    setTeam({\r\n                      ...team,\r\n                      currentCar: { ...team.currentCar, turbo: false },\r\n                    })\r\n                  }\r\n                />\r\n              </Form>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button className={\"m-1\"} variant=\"success\" type=\"submit\">\r\n              {okBtnLabel}\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              Anuluj\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { backendUrl, fetchCreateFinalList } from \"../utils/fetchUtils\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport { MyButton } from \"../common/Button\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport { TimePicker } from \"../common/DateInput\";\r\nimport { CalendarContainer } from \"react-datepicker\";\r\nimport { OkModal } from \"../common/Modal\";\r\n\r\nimport moment from \"moment\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const FinalListModal = ({ show, handleClose, eventId }) => {\r\n  const [creating, setCreating] = useState(false);\r\n  const [okModal, setOkModal] = useState();\r\n  const [stage, setStage] = useState();\r\n  const [frequency, setFrequency] = useState(1);\r\n  const [psOptions, setPsOptions] = useState([]);\r\n  const [startTime, setStartTime] = useState();\r\n  const [pkc, setPkc] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    closeOnBack(handleClose);\r\n    setCreating(false);\r\n    setFrequency(1);\r\n    axios\r\n      .get(`${backendUrl()}/event/getPsOptions?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setPsOptions(res.data);\r\n        setStage(res.data[0]?.value);\r\n      });\r\n  }, [show]);\r\n\r\n  const DatePickerContainer = ({ className, children }) => {\r\n    return (\r\n      <>\r\n        <CalendarContainer className={className}>\r\n          <div style={{ display: \"flex\" }}>{children}</div>\r\n        </CalendarContainer>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const getFormattedTime = () => {\r\n    return moment(startTime).format(\"YYYY-MM-DDTHH:mm:ss.SSS[Z]\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        style={{\r\n          zIndex: okModal ? 1000 : 1055,\r\n        }}\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton className=\"bg-dark-green text-white\">\r\n          <Modal.Title className=\"text-white\">{\"Lista startowa\"}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div className=\"row text-center\">\r\n            <div className=\"col-lg-12 pb-3\">\r\n              <Card className=\"\">\r\n                <Card.Body>\r\n                  <p\r\n                    style={{\r\n                      whiteSpace: \"break-spaces\",\r\n                    }}\r\n                  >\r\n                    {`Na liście startowej znajdą się wszyscy zawodnicy którzy NIE otrzymali negatywnego BK i/lub OA oraz \\nNIE dostali kary wykluczającej z zawodów (dyskwalifikacja lub wycofanie)\r\n                    \\nNegatywny BK i/lub OA możesz dodać w panelu danych zawodnika.\r\n                    \\nPlik z listą startową zostanie dodany w komunikatach wydarzenia.\r\n                    `}\r\n                  </p>\r\n                  <Selector\r\n                    label={\"Odcinek na który dodawana jest lista startowa\"}\r\n                    options={psOptions}\r\n                    value={stage}\r\n                    handleChange={(value) => setStage(value)}\r\n                    isValid={true}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Pełna nazwa PKC\"\r\n                    value={pkc}\r\n                    handleChange={(e) => setPkc(e.target.value)}\r\n                    big={true}\r\n                  />\r\n                  <TimePicker\r\n                    label={\"Czas startu na PKC\"}\r\n                    onChange={(value) => setStartTime(value)}\r\n                    calendarContainer={DatePickerContainer}\r\n                    selected={startTime}\r\n                  />\r\n                  <InputLabeled\r\n                    label=\"Co ile minut start zawodnika\"\r\n                    value={frequency}\r\n                    handleChange={(e) => setFrequency(e.target.value)}\r\n                    onlyNumber={true}\r\n                    type={\"number\"}\r\n                    big={true}\r\n                  />\r\n                </Card.Body>\r\n              </Card>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <MyButton\r\n              variant=\"success\"\r\n              isLoading={creating}\r\n              onClick={() => {\r\n                setCreating(true);\r\n                fetchCreateFinalList(\r\n                  eventId,\r\n                  stage,\r\n                  pkc,\r\n                  getFormattedTime(startTime),\r\n                  frequency,\r\n                  (data) => {\r\n                    setCreating(false);\r\n                    setOkModal(data);\r\n                  }\r\n                );\r\n              }}\r\n              disabled={!stage || !frequency || !startTime || !pkc}\r\n              msg=\"Dodaj listę startową\"\r\n              loadingMsg=\"Dodawanie listy startowej\"\r\n            />\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              {\"Wróć\"}\r\n            </Button>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n      <OkModal\r\n        show={okModal !== undefined}\r\n        title={\"\"}\r\n        text={\r\n          okModal\r\n            ? \"Lista startowa została dodana do komunikatów wydarzenia\"\r\n            : \"Akcja nieudana\"\r\n        }\r\n        handleAccept={() => setOkModal()}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport {\r\n  backendUrl,\r\n  fetchConfirmEntryFee,\r\n  fetchPsOptions,\r\n  fetchRemoveFromEvent,\r\n  fetchSaveEventTeam,\r\n  fetchSaveTeam,\r\n} from \"../utils/fetchUtils\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faClipboard,\r\n  faCoins,\r\n  faDollarSign,\r\n  faDownload,\r\n  faExclamation,\r\n  faTimesCircle,\r\n  faUserEdit,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { OkCancelModal } from \"../common/Modal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { Selector } from \"../common/Selector\";\r\nimport { BasicTeamDataForm } from \"./BasicTeamDataForm\";\r\nimport { TeamModal } from \"./TeamModal\";\r\nimport { QuickJoinPanel } from \"../join/QuickJoinPanel\";\r\nimport { download } from \"../utils/fileUtils\";\r\nimport { MyButton } from \"../common/Button\";\r\nimport { BkOaDiv, CarDiv, TeamDiv } from \"../common/Div\";\r\nimport { FinalListModal } from \"./FinalListModal\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const AdminTeamList = ({\r\n  show,\r\n  handleClose,\r\n  eventId,\r\n  eventName,\r\n  started,\r\n}) => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [teamsToTable, setTeamsToTable] = useState([]);\r\n  const [startEvent, setStartEvent] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [referee, setReferee] = useState(false);\r\n  const [refreshSelect, setRefreshSelect] = useState(false);\r\n  const [teamToRemove, setTeamToRemove] = useState({\r\n    driver: null,\r\n    teamId: null,\r\n  });\r\n  const [teamToEntryFee, setTeamToEntryFee] = useState({\r\n    driver: null,\r\n    teamId: null,\r\n  });\r\n  const [msg, setMsg] = useState();\r\n  const [eventClasses, setEventClasses] = useState([]);\r\n  const [teamToEdit, setTeamToEdit] = useState();\r\n  const [teamToPreview, setTeamToPreview] = useState();\r\n  const [quickJoin, setQuickJoin] = useState();\r\n  const [doSort, setDoSort] = useState(false);\r\n\r\n  const [downloadingOA, setDownloadingOA] = useState(false);\r\n  const [downloadingBK, setDownloadingBK] = useState(false);\r\n\r\n  const [finalList, setFinalList] = useState(false);\r\n  const [classesOptions, setClassesOptions] = useState([]);\r\n  const [classFilter, setClassFilter] = useState(\"0\");\r\n\r\n  useEffect(() => {\r\n    if (show) {\r\n      closeOnBack(handleClose);\r\n      fetchReferee();\r\n      setLoading(true);\r\n      setTeams([]);\r\n      setTeamsToTable([]);\r\n      fetchEvent();\r\n      fetchPsOptions(eventId, (data) => {\r\n        const arr = [{ label: \"WSZYSTKIE KLASY\", value: \"0\", defValue: true }];\r\n        data.classesOptions\r\n          .filter(\r\n            (v) => v.label !== \"GENERALNA\" && v.label !== \"GENERALNA+GOŚĆ\"\r\n          )\r\n          .forEach((x) => arr.push(x));\r\n        setClassesOptions(arr || []);\r\n      });\r\n    }\r\n    fetchTeams();\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    setTeamsToTable(\r\n      classFilter !== \"0\"\r\n        ? teams.filter(\r\n            (x) =>\r\n              x.carClass.name === classFilter ||\r\n              x.car?.driveTypeEnum === classFilter\r\n          )\r\n        : teams\r\n    );\r\n  }, [teams, classFilter]);\r\n\r\n  const eraseTeamToRemove = () => {\r\n    setTeamToRemove({\r\n      driver: null,\r\n      teamId: null,\r\n    });\r\n  };\r\n\r\n  const eraseTeamToEntryFee = () => {\r\n    setTeamToEntryFee({\r\n      driver: null,\r\n      teamId: null,\r\n    });\r\n  };\r\n\r\n  const getDriverAndTeamId = (team) => {\r\n    return {\r\n      teamId: team.teamId,\r\n      driver: team.driver + \" / \" + team.coDriver,\r\n    };\r\n  };\r\n\r\n  const fetchTeams = () => {\r\n    if (eventId === undefined) return;\r\n    axios\r\n      .get(`${backendUrl()}/event/getBasicTeams?eventId=${eventId}`)\r\n      .then((res) => {\r\n        const sortedTeams = res.data.sort((a, b) => a.order - b.order);\r\n        setTeams(sortedTeams);\r\n        setTeamsToTable(sortedTeams);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const fetchEvent = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/getEvent?eventId=${eventId}`)\r\n      .then((res) => {\r\n        setEventClasses(\r\n          res.data.eventClasses.map((x) => {\r\n            return { ...x, value: x.carClassId, label: x.carClass.name };\r\n          })\r\n        );\r\n      });\r\n  };\r\n\r\n  const fetchEntryFeeFile = (teamId, teamName) => {\r\n    download(\r\n      `${backendUrl()}/event/getEntryFeeFile?eventId=${eventId}&teamId=${teamId}`,\r\n      \"potwierdzenie_wplaty_\" + teamName + \".pdf\"\r\n    );\r\n  };\r\n\r\n  const fetchOaDocuments = () => {\r\n    setDownloadingOA(true);\r\n    download(\r\n      `${backendUrl()}/file/getEventTeamsData?eventId=${eventId}`,\r\n      \"dokumenty_oa_\" + eventName + \".pdf\",\r\n      () => setDownloadingOA(false)\r\n    );\r\n  };\r\n\r\n  const fetchBkDocuments = () => {\r\n    setDownloadingBK(true);\r\n    download(\r\n      `${backendUrl()}/file/getBkFiles?eventId=${eventId}`,\r\n      \"dokumenty_bk_\" + eventName + \".pdf\",\r\n      () => setDownloadingBK(false)\r\n    );\r\n  };\r\n  const fetchReferee = () => {\r\n    axios\r\n      .get(`${backendUrl()}/event/checkReferee?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setReferee(res.data);\r\n      });\r\n  };\r\n\r\n  const fetchStartEvent = () => {\r\n    axios\r\n      .post(`${backendUrl()}/event/startEvent?eventId=${eventId}`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then(() => {});\r\n  };\r\n\r\n  const sortByClass = () => {\r\n    setRefreshSelect(true);\r\n    axios\r\n      .post(`${backendUrl()}/event/sortByClass`, teams, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setTeams(res.data);\r\n        setRefreshSelect(false);\r\n      });\r\n  };\r\n\r\n  const saveNumbersAndClasses = () => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/event/saveNumbersAndClasses?eventId=${eventId}`,\r\n        teams,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        if (res.data) setMsg(\"Kolejność i klasy zostały zapisane\");\r\n        else setMsg(\"Coś poszło nie tak\");\r\n\r\n        setTimeout(() => setMsg(), 5000);\r\n      });\r\n  };\r\n\r\n  const handleOnDragEnd = (result) => {\r\n    if (!result.destination) return;\r\n\r\n    const items = Array.from(teams);\r\n    const [reorderedItem] = items.splice(result.source.index, 1);\r\n    items.splice(result.destination.index, 0, reorderedItem);\r\n\r\n    let order = 1;\r\n    items.map((x) => (x.order = order++));\r\n    const ordered = getOrdered(items);\r\n    setTeams(ordered);\r\n    setTeamsToTable(ordered);\r\n    setRefreshSelect(false);\r\n  };\r\n\r\n  const changeCarClass = (id, newCarClassId) => {\r\n    const index = teams.findIndex((x) => x.id === id);\r\n\r\n    if (teams[index].carClassId === newCarClassId) return;\r\n    teams[index].carClassId = newCarClassId;\r\n    setTeams(teams);\r\n  };\r\n\r\n  const saveTeam = (team) => {\r\n    setLoading(true);\r\n    fetchSaveEventTeam(eventId, team, () => {\r\n      fetchTeams();\r\n      setTeamToEdit();\r\n    });\r\n  };\r\n\r\n  const numberChanged = (value, item) => {\r\n    setSortedTeam(item, value !== \"\" ? Number(value) : \" \");\r\n  };\r\n\r\n  const checkRepeated = (value, item) => {\r\n    const numValue = Number(value);\r\n    if (\r\n      teams.find(\r\n        (x) => x.id !== item.id && x.forcedNumber && x.number === numValue\r\n      )\r\n    )\r\n      setSortedTeam(item, \"\");\r\n    // else setSortedTeam(item, Number(value));\r\n  };\r\n\r\n  const setSortedTeam = (item, numValue) => {\r\n    const tempTeams = teams.filter((x) => x.id !== item.id);\r\n    item.number = numValue;\r\n    item.forcedNumber = numValue !== \"\";\r\n\r\n    tempTeams.push(item);\r\n    tempTeams.sort((a, b) => a.order - b.order);\r\n\r\n    setTeams(getOrdered(tempTeams));\r\n  };\r\n\r\n  const getOrdered = (tempTeams) => {\r\n    const newTeams = [];\r\n    const forcedNumbers = teams\r\n      .filter((x) => x.forcedNumber)\r\n      .map((x) => x.number);\r\n    let index = 1;\r\n\r\n    for (let i in tempTeams) {\r\n      let item = tempTeams[i];\r\n      if (item.forcedNumber) {\r\n        newTeams.push(item);\r\n        continue;\r\n      }\r\n      if (!item.forcedNumber && !forcedNumbers.includes(index))\r\n        item.number = index++;\r\n      else {\r\n        while (forcedNumbers.includes(index)) index++;\r\n        item.number = index++;\r\n      }\r\n      newTeams.push(item);\r\n    }\r\n    return newTeams;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        style={{\r\n          zIndex:\r\n            teamToEdit || teamToPreview || quickJoin || finalList ? 1000 : 1055,\r\n        }}\r\n        show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header className=\"bg-dark-green text-white\" closeButton>\r\n          <Modal.Title>Lista zapisanych</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"pb-0\">\r\n          {loading && (\r\n            <div className=\"text-center\">\r\n              <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n            </div>\r\n          )}\r\n          {!loading && teams.length === 0 && (\r\n            <h1 className=\"text-center\">Brak zgłoszeń</h1>\r\n          )}\r\n          {!loading && teams?.length > 0 && (\r\n            <>\r\n              <div className=\"row pt-0 mx-0 card-body\">\r\n                <div className=\"col-xl-4 px-0 pe-1\"></div>\r\n                <div className=\"col-xl-4 px-0 pe-1\">\r\n                  <Selector\r\n                    label={\"Filtruj klasami\"}\r\n                    options={classesOptions}\r\n                    handleChange={(value) => setClassFilter(value)}\r\n                    isValid={true}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <table style={{ minWidth: \"600px\" }}>\r\n                <th className=\"\">\r\n                  <td style={{ width: \"70px\" }}>Edycja</td>\r\n                  <td style={{ width: \"60px\" }}>Nr</td>\r\n                  <td style={{ width: \"400px\" }}>Kierowca</td>\r\n                  <td style={{ width: \"250px\" }}>Samochód</td>\r\n                  <td style={{ width: \"100px\" }}>Klasa</td>\r\n                  <td style={{ width: \"100px\" }}>Zapłacone</td>\r\n                  <td style={{ width: \"110px\" }}>Potwierdź wpisowe</td>\r\n                  <td style={{ width: \"100px\" }}>Plik</td>\r\n                  <td style={{ width: \"50px\" }}>OA/BK</td>\r\n                  <td style={{ width: \"10px\" }}></td>\r\n                  <td style={{ width: \"80px\", textAlign: \"right\" }}>\r\n                    Usuń załogę\r\n                  </td>\r\n                </th>\r\n              </table>\r\n              <div style={{ overflowX: \"scroll\" }}>\r\n                <DragDropContext\r\n                  onDragStart={() => setRefreshSelect(true)}\r\n                  onDragEnd={handleOnDragEnd}\r\n                >\r\n                  <Droppable droppableId=\"selectedCases\">\r\n                    {(provided) => (\r\n                      <ol\r\n                        className=\"selectedCases fw-bold\"\r\n                        style={{ minWidth: \"600px\" }}\r\n                        {...provided.droppableProps}\r\n                        ref={provided.innerRef}\r\n                      >\r\n                        {teamsToTable?.map((item, index) => {\r\n                          return (\r\n                            <Draggable\r\n                              key={item.order}\r\n                              draggableId={item.order.toString()}\r\n                              index={index}\r\n                              isDragDisabled={classFilter !== \"0\"}\r\n                            >\r\n                              {(provided) => (\r\n                                <li\r\n                                  ref={provided.innerRef}\r\n                                  {...provided.draggableProps}\r\n                                  {...provided.dragHandleProps}\r\n                                >\r\n                                  <Card className=\"my-1\">\r\n                                    <Card.Body className=\"p-0\">\r\n                                      <table className=\"m-0\">\r\n                                        <tr className=\"d-table-row fw-normal align-middle\">\r\n                                          <td\r\n                                            className={\r\n                                              item.teamChecked &&\r\n                                              item.entryFeePaid &&\r\n                                              item.bkPositive\r\n                                                ? \"bg-success\"\r\n                                                : \"\"\r\n                                            }\r\n                                            style={{ width: \"20px\" }}\r\n                                          >\r\n                                            <FontAwesomeIcon\r\n                                              icon={faUserEdit}\r\n                                              onClick={() =>\r\n                                                setTeamToEdit(item.team)\r\n                                              }\r\n                                              title={\"Edytuj dane\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          </td>\r\n                                          <td style={{ width: \"55px\" }}>\r\n                                            {/* <NrBadge value={item.number}></NrBadge> */}\r\n                                            <input\r\n                                              style={{\r\n                                                width: \"90%\",\r\n                                                backgroundColor: \"#ffad4f\",\r\n                                                fontWeight: item.forcedNumber\r\n                                                  ? \"700\"\r\n                                                  : \"100\",\r\n                                                borderRadius: \"20px\",\r\n                                                textAlign: \"center\",\r\n                                              }}\r\n                                              type=\"number\"\r\n                                              value={item.number}\r\n                                              onChange={(e) =>\r\n                                                numberChanged(\r\n                                                  e.target.value,\r\n                                                  item\r\n                                                )\r\n                                              }\r\n                                              onBlur={(e) =>\r\n                                                checkRepeated(\r\n                                                  e.target.value,\r\n                                                  item\r\n                                                )\r\n                                              }\r\n                                            />\r\n                                          </td>\r\n                                          <td style={{ width: \"250px\" }}>\r\n                                            <TeamDiv\r\n                                              team={{\r\n                                                driver: item.driver,\r\n                                                coDriver: item.coDriver,\r\n                                                club: item.club,\r\n                                                coClub: item.coClub,\r\n                                                teamName: item.teamName,\r\n                                              }}\r\n                                            ></TeamDiv>\r\n                                          </td>\r\n                                          <td style={{ width: \"250px\" }}>\r\n                                            <CarDiv\r\n                                              line1={\r\n                                                (item.car?.brand || \"\") +\r\n                                                \" \" +\r\n                                                (item.car?.model || \"\")\r\n                                              }\r\n                                              driveType={\r\n                                                item.car?.driveTypeEnum\r\n                                              }\r\n                                              line2={\r\n                                                item.car?.engineCapacity +\r\n                                                \" cm3\"\r\n                                              }\r\n                                            ></CarDiv>\r\n                                          </td>\r\n                                          <td\r\n                                            style={{\r\n                                              width: \"130px\",\r\n                                              display: \"flex\",\r\n                                            }}\r\n                                          >\r\n                                            {!refreshSelect && (\r\n                                              <Selector\r\n                                                className={\"m-0 p-0\"}\r\n                                                options={eventClasses}\r\n                                                handleChange={(value) => {\r\n                                                  changeCarClass(\r\n                                                    item.id,\r\n                                                    value\r\n                                                  );\r\n                                                }}\r\n                                                isValid={true}\r\n                                                value={item.carClassId}\r\n                                              />\r\n                                            )}\r\n                                            {refreshSelect && (\r\n                                              <Selector\r\n                                                className={\"m-0 p-0\"}\r\n                                                options={eventClasses}\r\n                                                handleChange={(value) => {\r\n                                                  changeCarClass(\r\n                                                    item.id,\r\n                                                    value\r\n                                                  );\r\n                                                }}\r\n                                                isValid={true}\r\n                                                skipDefault={true}\r\n                                              />\r\n                                            )}\r\n                                          </td>\r\n                                          <td\r\n                                            style={{\r\n                                              width: \"90px\",\r\n                                            }}\r\n                                          >\r\n                                            {item.entryFeePaid ? (\r\n                                              <FontAwesomeIcon\r\n                                                className={\"text-success\"}\r\n                                                icon={faDollarSign}\r\n                                              />\r\n                                            ) : (\r\n                                              <FontAwesomeIcon\r\n                                                className={\"text-danger\"}\r\n                                                icon={faExclamation}\r\n                                              />\r\n                                            )}\r\n                                          </td>\r\n                                          <td style={{ width: \"90px\" }}>\r\n                                            <FontAwesomeIcon\r\n                                              icon={faCoins}\r\n                                              onClick={() =>\r\n                                                setTeamToEntryFee(\r\n                                                  getDriverAndTeamId(item.team)\r\n                                                )\r\n                                              }\r\n                                              title={\"Potwierdź wpisowe\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          </td>\r\n                                          <td style={{ width: \"90px\" }}>\r\n                                            {item.entryFeeFileExist ? (\r\n                                              <FontAwesomeIcon\r\n                                                icon={faDownload}\r\n                                                onClick={() =>\r\n                                                  fetchEntryFeeFile(\r\n                                                    item.team.teamId,\r\n                                                    item.team.driver\r\n                                                  )\r\n                                                }\r\n                                                title={\"Pobierz plik\"}\r\n                                                cursor={\"pointer\"}\r\n                                              />\r\n                                            ) : (\r\n                                              <></>\r\n                                            )}\r\n                                          </td>\r\n                                          <td style={{ width: \"30px\" }}>\r\n                                            {item.teamChecked ? (\r\n                                              <FontAwesomeIcon\r\n                                                className={\"text-success\"}\r\n                                                icon={faClipboard}\r\n                                                onClick={() =>\r\n                                                  setTeamToPreview(\r\n                                                    item.team.teamId\r\n                                                  )\r\n                                                }\r\n                                                title={\"Podgląd danych\"}\r\n                                                cursor={\"pointer\"}\r\n                                              />\r\n                                            ) : (\r\n                                              <FontAwesomeIcon\r\n                                                icon={faClipboard}\r\n                                                onClick={() =>\r\n                                                  setTeamToPreview(\r\n                                                    item.team.teamId\r\n                                                  )\r\n                                                }\r\n                                                title={\"Podgląd danych\"}\r\n                                                cursor={\"pointer\"}\r\n                                              />\r\n                                            )}\r\n                                          </td>\r\n                                          <td style={{ width: \"30px\" }}>\r\n                                            <BkOaDiv\r\n                                              oa={item.teamChecked}\r\n                                              bk={item.bkPositive}\r\n                                            />\r\n                                          </td>\r\n                                          <td\r\n                                            style={{\r\n                                              width: \"60px\",\r\n                                              color: \"red\",\r\n                                              textAlign: \"right\",\r\n                                              paddingRight: \"5px\",\r\n                                            }}\r\n                                          >\r\n                                            <FontAwesomeIcon\r\n                                              icon={faTimesCircle}\r\n                                              onClick={() =>\r\n                                                setTeamToRemove(\r\n                                                  getDriverAndTeamId(item.team)\r\n                                                )\r\n                                              }\r\n                                              title={\"Usuń załoge\"}\r\n                                              cursor={\"pointer\"}\r\n                                            />\r\n                                          </td>\r\n                                        </tr>\r\n                                      </table>\r\n                                    </Card.Body>\r\n                                  </Card>\r\n                                </li>\r\n                              )}\r\n                            </Draggable>\r\n                          );\r\n                        })}\r\n                        {provided.placeholder}\r\n                      </ol>\r\n                    )}\r\n                  </Droppable>\r\n                </DragDropContext>\r\n              </div>\r\n            </>\r\n          )}\r\n          {teamToRemove.teamId !== null && (\r\n            <OkCancelModal\r\n              show={true}\r\n              title={\"Usuwanie załogi\"}\r\n              text={`Czy napewno chcesz usunąć załoge: ${teamToRemove.driver}`}\r\n              handleAccept={() => {\r\n                fetchRemoveFromEvent(eventId, teamToRemove.teamId, () =>\r\n                  fetchTeams()\r\n                );\r\n                eraseTeamToRemove();\r\n              }}\r\n              handleClose={() => {\r\n                eraseTeamToRemove();\r\n              }}\r\n            />\r\n          )}\r\n          {teamToEntryFee.teamId !== null && (\r\n            <OkCancelModal\r\n              show={true}\r\n              title={\"Potwierdzanie wpisowego\"}\r\n              text={`Czy napewno chcesz potwierdzić wpłatę wpisowego przez załoge: ${teamToEntryFee.driver}`}\r\n              handleAccept={() => {\r\n                fetchConfirmEntryFee(eventId, teamToEntryFee.teamId, () =>\r\n                  fetchTeams()\r\n                );\r\n                eraseTeamToEntryFee();\r\n              }}\r\n              handleClose={() => {\r\n                eraseTeamToEntryFee();\r\n              }}\r\n            />\r\n          )}\r\n          {startEvent && (\r\n            <OkCancelModal\r\n              show={true}\r\n              title={\"Zamykanie listy / Rozpoczynanie wydarzenia\"}\r\n              text={`Czy napewno chcesz zamknąć listę i rozpocząć wydarzenie? Operacja nieodwracalna`}\r\n              handleAccept={() => {\r\n                fetchStartEvent();\r\n                setStartEvent(false);\r\n              }}\r\n              handleClose={() => setStartEvent(false)}\r\n            />\r\n          )}\r\n          {teamToEdit && (\r\n            <BasicTeamDataForm\r\n              show={true}\r\n              myTeam={teamToEdit}\r\n              eventId={eventId}\r\n              onSave={(team) => saveTeam(team)}\r\n              okBtnLabel={\"Zapisz zmiany\"}\r\n              handleClose={() => setTeamToEdit()}\r\n              title={\"Edycja danych załogi\"}\r\n            />\r\n          )}\r\n          {doSort && (\r\n            <OkCancelModal\r\n              show={true}\r\n              title={\"Sortowanie\"}\r\n              text={`Czy chcesz posortować zawodników? Pamiętaj, że zresetuje to numery które nie zostały wpisane ręcznie (nie-pogrubione). Jeśli chcesz nadać komuś numer na stałe edytuj wartość na liście.`}\r\n              handleAccept={() => {\r\n                sortByClass();\r\n                setDoSort(false);\r\n              }}\r\n              handleClose={() => setDoSort(false)}\r\n            />\r\n          )}\r\n          {teamToPreview && (\r\n            <TeamModal\r\n              show={true}\r\n              handleClose={() => {\r\n                fetchTeams();\r\n                setTeamToPreview();\r\n              }}\r\n              myEvent={{\r\n                eventId: eventId,\r\n                started: false,\r\n                teamId: teamToPreview,\r\n              }}\r\n              mode=\"preview\"\r\n            />\r\n          )}\r\n          <QuickJoinPanel\r\n            show={quickJoin}\r\n            handleClose={() => {\r\n              fetchTeams();\r\n              setQuickJoin();\r\n            }}\r\n            eventId={eventId}\r\n          />\r\n          <div className=\"text-center\">\r\n            <div className=\"col-xl-12\">\r\n              <p className=\"font12 m-0 p-0\">\r\n                Sortowanie można wykonać również ręcznie przesuwając zawodnika\r\n                za pomocą myszy (tylko jeśli filtr klasy ustawiony jest na\r\n                Wszystkie klasy) - po zakończeniu ZAPISZ\r\n              </p>\r\n              <p className=\"font12 m-0 p-0\">\r\n                Zmiana kolejności zmienia numery startowe! Jeśli chcesz nadać\r\n                numer startowy zawodnikowi wpisz go ręcznie\r\n              </p>\r\n              <Button\r\n                className={\"m-1\"}\r\n                variant=\"info\"\r\n                onClick={() => setDoSort(true)}\r\n                disabled={classFilter !== \"0\"}\r\n              >\r\n                Sortuj wstępnie wg. klas\r\n              </Button>\r\n            </div>\r\n            <div className=\"col-xl-12\">\r\n              <MyButton\r\n                variant=\"primary\"\r\n                isLoading={downloadingOA}\r\n                onClick={() => fetchOaDocuments()}\r\n                msg=\"Pobierz dokumenty OA\"\r\n                loadingMsg=\"Pobieranie dokumentów OA\"\r\n              />\r\n              <MyButton\r\n                variant=\"primary\"\r\n                isLoading={downloadingBK}\r\n                onClick={() => fetchBkDocuments()}\r\n                msg=\"Pobierz dokumenty BK\"\r\n                loadingMsg=\"Pobieranie dokumentów BK\"\r\n              />\r\n            </div>\r\n            <div className=\"col-xl-12\">\r\n              <MyButton\r\n                variant=\"warning\"\r\n                onClick={() => setFinalList(true)}\r\n                msg=\"Zatwierdź listę startową\"\r\n              />\r\n            </div>\r\n            <p>{msg}</p>\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer className={\"justify-content-center py-0\"}>\r\n          <div className=\"d-flex\">\r\n            {referee && (\r\n              <Button\r\n                className={\"m-2\"}\r\n                variant=\"success\"\r\n                onClick={() => setQuickJoin(true)}\r\n              >\r\n                Dodaj zawodnika\r\n              </Button>\r\n            )}\r\n            {/* {referee && (\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={() => setStartEvent(true)}\r\n              disabled={started}\r\n            >\r\n              Zamknij liste / Rozpocznij wydarzenie\r\n            </Button>\r\n          )} */}\r\n            <Button\r\n              className={\"m-2\"}\r\n              variant=\"success\"\r\n              onClick={saveNumbersAndClasses}\r\n            >\r\n              Zapisz klasy i kolejność załóg\r\n            </Button>\r\n            <Button className={\"m-2\"} variant=\"secondary\" onClick={handleClose}>\r\n              Wyjdź\r\n            </Button>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <FinalListModal\r\n        show={finalList}\r\n        eventId={eventId}\r\n        handleClose={() => setFinalList(false)}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { InputLabeled } from \"../common/InputLabeled\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { faBook, faCarAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { CustomDatePicker } from \"../common/DateInput\";\r\nimport { CalendarContainer } from \"react-datepicker\";\r\nimport { backendUrl } from \"../utils/fetchUtils\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const AddStatementModal = ({ show, handleClose, eventId }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [statement, setStatement] = useState({});\r\n  const [postFile, setPostFile] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    closeOnBack(handleClose);\r\n    setMsg(\"\");\r\n    setLoading(false);\r\n    setPostFile();\r\n    setStatement({\r\n      eventId: eventId,\r\n      date: new Date(),\r\n      name: \"\",\r\n      description: \"\",\r\n      file: null,\r\n    });\r\n  }, [show]);\r\n\r\n  const handleSubmit = (event) => {\r\n    setLoading(true);\r\n    event.preventDefault();\r\n    axios\r\n      .post(`${backendUrl()}/statement/addStatement`, statement, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        if (postFile) fetchPostFile(res.data);\r\n        else {\r\n          setMsg(\"Dodano komunikat\");\r\n          setLoading(false);\r\n        }\r\n      });\r\n  };\r\n\r\n  const fetchPostFile = (statementId) => {\r\n    axios\r\n      .post(\r\n        `${backendUrl()}/statement/addFileToStatement?statementId=${statementId}`,\r\n        postFile,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => {\r\n        setMsg(res.data);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setStatement({ ...statement, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const DatePickerContainer = ({ className, children }) => {\r\n    return (\r\n      <>\r\n        <CalendarContainer className={className}>\r\n          <div style={{ display: \"flex\" }}>{children}</div>\r\n        </CalendarContainer>\r\n      </>\r\n    );\r\n  };\r\n  const addFile = (e) => {\r\n    const currentFile = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"file\", currentFile);\r\n\r\n    setStatement({\r\n      ...statement,\r\n      fileName: currentFile.name,\r\n    });\r\n    setPostFile(formData);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={handleClose}\r\n      backdrop=\"static\"\r\n      keyboard={false}\r\n      size=\"lg\"\r\n    >\r\n      <Modal.Header className=\"bg-dark-green text-white\" closeButton>\r\n        <Modal.Title>Dodawanie komunikatu</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"d-flex justify-content-center text-center\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"row d-flex\">\r\n              <CustomDatePicker\r\n                label={\"Data komunikatu\"}\r\n                onChange={(value) =>\r\n                  setStatement({ ...statement, date: value })\r\n                }\r\n                selected={statement.date}\r\n                calendarContainer={DatePickerContainer}\r\n                minDate={null}\r\n                maxDate={null}\r\n              />\r\n              <InputLabeled\r\n                label=\"Nazwa komunikatu\"\r\n                name=\"name\"\r\n                handleChange={handleChange}\r\n                value={statement.name}\r\n                big={true}\r\n                required={true}\r\n                icon={faBook}\r\n              />\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <InputLabeled\r\n                  label=\"Treść komunikatu\"\r\n                  inputPlaceholder=\"Dodaj treść komunikatu tekstowego lub załącz plik który będzie udostępniony do pobrania\"\r\n                  name=\"description\"\r\n                  handleChange={handleChange}\r\n                  value={statement.description}\r\n                  big={true}\r\n                  icon={faCarAlt}\r\n                  multiline={5}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-12\">\r\n                <span className={\"font14 input-group-text py-0 \"} id=\"\">\r\n                  Dodaj plik\r\n                </span>\r\n                <div class=\"input-group mb-0\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    //accept=\"application/pdf,application/vnd.ms-excel\"\r\n                    onChange={(e) => addFile(e)}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"text-center\" style={{ height: \"50px\" }}>\r\n              <h4 className=\"fw-bold\">{msg}</h4>\r\n              {loading && (\r\n                <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n              )}\r\n            </div>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"success\"\r\n              type=\"submit\"\r\n              //   disabled={msg}\r\n            >\r\n              Dodaj\r\n            </Button>\r\n            <Button\r\n              className={\"m-1\"}\r\n              variant=\"secondary\"\r\n              onClick={() => handleClose()}\r\n            >\r\n              {\"Wyjdź\"}\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport ResultTable from \"../common/table/ResultTable\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faDownload,\r\n  faSearch,\r\n  faTimesCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { AddStatementModal } from \"./AddStatementModal\";\r\nimport { backendUrl, checkReferee, fetchStatement } from \"../utils/fetchUtils\";\r\nimport moment from \"moment\";\r\nimport { download } from \"../utils/fileUtils\";\r\nimport { OkCancelModal, OkModal } from \"../common/Modal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { closeOnBack } from \"../utils/utils\";\r\n\r\nexport const StatementModal = ({ show, handleClose, event }) => {\r\n  const [addStatement, setAddStatement] = useState();\r\n  const [descriptionModal, setDescriptionModal] = useState();\r\n  const [deleteModal, setDeleteModal] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n  const [statements, setStatements] = useState([]);\r\n  const [referee, setReferee] = useState(false);\r\n  const [hiddenColumns, setHiddenColumns] = useState([\"file\", \"delete\"]);\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    closeOnBack(handleClose);\r\n    if (event?.eventId !== undefined) checkReferee(event?.eventId, setReferee);\r\n\r\n    fetchGetStatements();\r\n  }, [show]);\r\n\r\n  useEffect(() => {\r\n    if (referee) setHiddenColumns([\"file\"]);\r\n  }, [referee]);\r\n\r\n  const fetchGetStatements = () => {\r\n    setLoading(show);\r\n    fetchStatement(event?.eventId, (data) => {\r\n      setStatements(data);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const deleteStatement = (statementId) => {\r\n    axios\r\n      .delete(\r\n        `${backendUrl()}/statement/deleteStatement?statementId=${statementId}`,\r\n        {\r\n          headers: authHeader(),\r\n        }\r\n      )\r\n      .then((res) => fetchGetStatements());\r\n  };\r\n\r\n  const downloadFile = (statementId, fileName) => {\r\n    window.open(\r\n      `${backendUrl()}/statement/downloadFile?statementId=${statementId}`,\r\n      \"_blank\"\r\n    );\r\n    // download(\r\n    //   `${backendUrl()}/statement/downloadFile?statementId=${statementId}`,\r\n    //   fileName + \".pdf\"\r\n    // );\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        width: \"7%\",\r\n        id: \"index\",\r\n        Header: \"L.p\",\r\n        accessor: (cellInfo) => cellInfo.number,\r\n        disableFilters: true,\r\n        Cell: (row) => <div className=\"ps-2\"> {row.row.index + 1}</div>,\r\n      },\r\n      {\r\n        width: \"25%\",\r\n        id: \"date\",\r\n        Header: \"Data dodania\",\r\n        accessor: (cellInfo) => cellInfo.date,\r\n        disableFilters: true,\r\n        Cell: (row) => (\r\n          <div className=\"ps-2\">\r\n            {moment(row.value).format(\"DD-MM-YYYY, HH:mm\")}\r\n          </div>\r\n        ),\r\n      },\r\n      {\r\n        width: \"40%\",\r\n        id: \"name\",\r\n        Header: \"Nazwa\",\r\n        accessor: (cellInfo) => cellInfo.name,\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"7%\",\r\n        id: \"file\",\r\n        Header: \"Plik\",\r\n        accessor: (cellInfo) => cellInfo.file,\r\n        disableFilters: true,\r\n      },\r\n      {\r\n        width: \"8%\",\r\n        id: \"download\",\r\n        Header: \"Plik\",\r\n        accessor: (cellInfo) => cellInfo.fileName,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return row.value && row.row.original.fileExist ? (\r\n            <FontAwesomeIcon\r\n              icon={faDownload}\r\n              title={\"Pobierz\"}\r\n              cursor={\"pointer\"}\r\n              onClick={() =>\r\n                downloadFile(row.row.original.statementId, row.value)\r\n              }\r\n            />\r\n          ) : (\r\n            <></>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        width: \"9%\",\r\n        id: \"view\",\r\n        Header: \"Opis\",\r\n        accessor: (cellInfo) => cellInfo.description,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return row.value ? (\r\n            <FontAwesomeIcon\r\n              icon={faSearch}\r\n              title={\"Podgląd\"}\r\n              cursor={\"pointer\"}\r\n              onClick={() => setDescriptionModal(row.row.original)}\r\n            />\r\n          ) : (\r\n            <></>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        width: \"10%\",\r\n        id: \"delete\",\r\n        Header: \"Usuń\",\r\n        accessor: (cellInfo) => cellInfo.description,\r\n        disableFilters: true,\r\n        Cell: (row) => {\r\n          return (\r\n            <FontAwesomeIcon\r\n              icon={faTimesCircle}\r\n              title={\"Usuń komunikat\"}\r\n              cursor={\"pointer\"}\r\n              className=\"text-danger\"\r\n              onClick={() => setDeleteModal(row.row.original)}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    [hiddenColumns]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Modal\r\n        show={show}\r\n        style={{\r\n          zIndex: addStatement || descriptionModal || deleteModal ? 1000 : 1055,\r\n        }}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        size=\"xl\"\r\n      >\r\n        <Modal.Header closeButton className=\"bg-dark-green text-white\">\r\n          <Modal.Title className=\"text-white\">{`Komunikaty`}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <h5 className=\"text-center\"> {event.name}</h5>{\" \"}\r\n          {loading ? (\r\n            <div className=\"text-center\">\r\n              <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n            </div>\r\n          ) : statements.length === 0 ? (\r\n            <h4 className=\"text-center pt-3\">\r\n              Organizator nie dodał komunikatów\r\n            </h4>\r\n          ) : (\r\n            <ResultTable\r\n              columns={columns}\r\n              data={statements}\r\n              hiddenColumns={hiddenColumns}\r\n              isLoading={loading}\r\n              isHeader={true}\r\n              manualPagination={true}\r\n            />\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer className={\"justify-content-center\"}>\r\n          <div className=\"d-flex\">\r\n            {referee && (\r\n              <Button\r\n                className={\"m-1\"}\r\n                variant=\"success\"\r\n                onClick={() => setAddStatement(true)}\r\n              >\r\n                Dodaj komunikat\r\n              </Button>\r\n            )}\r\n            <Button className={\"m-1\"} variant=\"secondary\" onClick={handleClose}>\r\n              Wyjdź\r\n            </Button>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      <AddStatementModal\r\n        show={addStatement}\r\n        handleClose={() => {\r\n          setAddStatement();\r\n          fetchGetStatements();\r\n        }}\r\n        eventId={event?.eventId}\r\n      />\r\n      {descriptionModal && (\r\n        <OkModal\r\n          show={true}\r\n          title={\"Komunikat \" + descriptionModal.name}\r\n          text={\r\n            \"Dodano: \" +\r\n            moment(descriptionModal.date).format(\"dddd, DD MMM YYYY, HH:mm\") +\r\n            \"\\n\\n\" +\r\n            descriptionModal.description\r\n          }\r\n          handleAccept={() => setDescriptionModal()}\r\n        />\r\n      )}\r\n      {deleteModal && (\r\n        <OkCancelModal\r\n          show={true}\r\n          title={\"Usuwanie komunikatu\"}\r\n          text={`Czy chcesz usunąć komunikat ${deleteModal.name} ?`}\r\n          handleAccept={() => {\r\n            deleteStatement(deleteModal.statementId);\r\n            setDeleteModal();\r\n          }}\r\n          handleClose={() => setDeleteModal()}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","/* eslint-disable react/display-name */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { backendUrl, checkReferee } from \"../utils/fetchUtils\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { NewEventForm } from \"../event/NewEventForm\";\r\nimport { EventCard } from \"../common/EventCard\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { TeamListModal } from \"../team/TeamListModal\";\r\nimport { EventModal } from \"../event/EventModal\";\r\nimport authHeader from \"../../service/auth-header\";\r\nimport { AdminTeamList } from \"../team/AdminTeamList\";\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport { StatementModal } from \"../statement/StatementModal\";\r\nimport { useGetAllBeforeQuery } from \"../../service/rtk-fetch-api\";\r\n\r\nconst HomePage = (props) => {\r\n  const [futureEvents, setFutureEvents] = useState([]);\r\n  const [createEvent, setCreateEvent] = useState();\r\n  const [eventToTeamList, setEventToTeamList] = useState();\r\n  const [eventToTeamPanel, setEventToTeamPanel] = useState();\r\n  const [loadingFuture, setLoadingFuture] = useState(true);\r\n  const [mainAdmin, setMainAdmin] = useState(false);\r\n  const [redirected, setRedirected] = useState(false);\r\n  const [showStatement, setShowStatement] = useState();\r\n  const [referee, setReferee] = useState(false);\r\n\r\n  const { data: archiveEvents = [], isFetching: fetchingBefore } =\r\n    useGetAllBeforeQuery();\r\n\r\n  let eventRedirect = useLocation().search;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const fetchEvents = () => {\r\n    fetchFuture();\r\n  };\r\n\r\n  const fetchFuture = () => {\r\n    setLoadingFuture(true);\r\n\r\n    axios\r\n      .get(`${backendUrl()}/event/getAllFuture`, {\r\n        headers: authHeader(),\r\n      })\r\n      .then((res) => {\r\n        setFutureEvents(res.data.sort((x, y) => (x.date < y.date ? -1 : 1)));\r\n\r\n        if (eventRedirect !== undefined && !redirected) {\r\n          const index = eventRedirect.includes(\"&\")\r\n            ? eventRedirect.indexOf(\"&\")\r\n            : eventRedirect.length;\r\n          const event = res.data.find(\r\n            (x) =>\r\n              x.eventId ===\r\n              Number(eventRedirect.substring(0, index).replace(\"?\", \"\"))\r\n          );\r\n          if (eventRedirect.includes(\"list\")) setEventToTeamList(event);\r\n          else setEventToTeamPanel(event);\r\n          eventRedirect = null;\r\n          setRedirected(true);\r\n        }\r\n        setLoadingFuture(false);\r\n      });\r\n  };\r\n\r\n  // const fetchArchive = () => {\r\n  //   setLoadingBefore(true);\r\n\r\n  //   axios\r\n  //     .get(`${backendUrl()}/event/getAllBefore`, {\r\n  //       headers: authHeader(),\r\n  //     })\r\n  //     .then((res) => {\r\n  //       setArchiveEvents(res.data.sort((x, y) => (x.date > y.date ? -1 : 1)));\r\n  //       setLoadingBefore(false);\r\n  //     });\r\n  // };\r\n\r\n  const fetchMainAdmin = () => {\r\n    if (sessionStorage.getItem(\"username\") !== null)\r\n      axios\r\n        .get(\r\n          `${backendUrl()}/auth/isMainAdmin?login=${sessionStorage.getItem(\r\n            \"username\"\r\n          )}`,\r\n          {\r\n            headers: authHeader(),\r\n          }\r\n        )\r\n        .then((res) => {\r\n          setMainAdmin(res.data);\r\n        });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvents();\r\n    fetchMainAdmin();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Card\r\n        style={{ borderRadius: \"0\" }}\r\n        className=\" my-1 bg-dark-green text-white green-header\"\r\n      >\r\n        <h4 style={{ zIndex: 1 }} className=\"mb-1\">\r\n          Najbliższe wydarzenia\r\n        </h4>\r\n      </Card>\r\n      <div className=\"row mx-0 justify-content-center card-body p-0\">\r\n        {loadingFuture && futureEvents.length === 0 && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {futureEvents.map((x) => (\r\n          <EventCard\r\n            key={x.eventId}\r\n            event={x}\r\n            onJoin={() => setEventToTeamPanel(x)}\r\n            onScore={() => {\r\n              localStorage.setItem(\"eventId\", x.eventId);\r\n              navigate({\r\n                pathname: \"/event\",\r\n                search: `?${x.eventId}`,\r\n                state: { eventId: x.eventId },\r\n              });\r\n              // navigate(\"event\", { state: { eventId: x.eventId } });\r\n            }}\r\n            onTeamList={() => {\r\n              checkReferee(x.eventId, (data) => setReferee(data));\r\n              setEventToTeamList(x);\r\n            }}\r\n            onStatement={() => setShowStatement(x)}\r\n            onEdit={() => setCreateEvent(x)}\r\n            mainAdmin={mainAdmin}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"py-4\"></div>\r\n      <Card\r\n        style={{ borderRadius: \"0\" }}\r\n        className=\" my-1 bg-dark-green text-white green-header\"\r\n      >\r\n        <h4 style={{ zIndex: 1 }} className=\"mb-1\">\r\n          Archiwalne wydarzenia\r\n        </h4>\r\n      </Card>\r\n\r\n      <div className=\"row mx-0 justify-content-center card-body\">\r\n        {fetchingBefore && archiveEvents.length === 0 && (\r\n          <div className=\"text-center\">\r\n            <Spinner animation=\"border\" variant=\"secondary\" size=\"lg\" />\r\n          </div>\r\n        )}\r\n        {archiveEvents.map((x) => (\r\n          <EventCard\r\n            key={x.eventId}\r\n            event={x}\r\n            onJoin={() => setEventToTeamPanel(x)}\r\n            onScore={() => {\r\n              localStorage.setItem(\"eventId\", x.eventId);\r\n              navigate({\r\n                pathname: \"/event\",\r\n                search: `?${x.eventId}`,\r\n                state: { eventId: x.eventId },\r\n              });\r\n            }}\r\n            onTeamList={() => {\r\n              checkReferee(x.eventId, (data) => setReferee(data));\r\n              setEventToTeamList(x);\r\n            }}\r\n            onStatement={() => setShowStatement(x)}\r\n            onEdit={() => setCreateEvent(x)}\r\n            mainAdmin={mainAdmin}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"p-3 border-top\">\r\n        {mainAdmin && (\r\n          <Button\r\n            className={\"border-top mx-3\"}\r\n            variant=\"primary\"\r\n            onClick={() => setCreateEvent(true)}\r\n          >\r\n            Dodaj wydarzenie\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <NewEventForm\r\n        show={createEvent !== undefined}\r\n        handleClose={() => {\r\n          setCreateEvent();\r\n          fetchEvents();\r\n        }}\r\n        event={createEvent}\r\n      />\r\n      {(mainAdmin || referee) && (\r\n        <AdminTeamList\r\n          show={eventToTeamList !== undefined}\r\n          handleClose={() => {\r\n            setEventToTeamList();\r\n            fetchEvents();\r\n          }}\r\n          eventId={eventToTeamList?.eventId}\r\n          eventName={eventToTeamList?.name}\r\n          started={eventToTeamList?.started}\r\n        />\r\n      )}\r\n      {!mainAdmin && !referee && (\r\n        <TeamListModal\r\n          show={eventToTeamList !== undefined}\r\n          handleClose={() => {\r\n            setEventToTeamList();\r\n            fetchEvents();\r\n          }}\r\n          eventId={eventToTeamList?.eventId}\r\n          started={eventToTeamList?.started}\r\n        />\r\n      )}\r\n      {showStatement && (\r\n        <StatementModal\r\n          show={true}\r\n          handleClose={() => setShowStatement()}\r\n          event={showStatement}\r\n        />\r\n      )}\r\n      <EventModal\r\n        show={eventToTeamPanel !== undefined}\r\n        handleClose={() => {\r\n          setEventToTeamPanel();\r\n          fetchEvents();\r\n        }}\r\n        event={eventToTeamPanel}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"names":["NewEventForm","show","handleClose","event","useState","name","headDescription","description","footerDescription","date","Date","signDeadline","admin","stages","organizer","logoPath","awdClassification","rwdClassification","fwdClassification","pzm","myEvent","setMyEvent","index","distance","startTime","startFrequency","stage","setStage","carClassId","carClassName","maxEngineCapacity","eventId","awd","eventClass","setEventClass","eventPaths","setEventPaths","path","setPath","eventFiles","setEventFiles","file","fileName","setFile","logoFile","setLogoFile","setStages","referee","setReferee","refereeOptions","setRefereeOptions","eventClasses","setEventClasses","eventClassesOptions","setEventClassesOptions","removeEvent","setRemoveEvent","useEffect","closeOnBack","axios","backendUrl","headers","authHeader","then","res","data","undefined","fetchEventToEdit","handleChange","target","value","handleStageChange","map","x","carClass","DatePickerContainer","className","children","CalendarContainer","style","display","Modal","onHide","backdrop","keyboard","size","closeButton","Card","InputLabeled","label","big","multiline","inputPlaceholder","onChange","selected","calendarContainer","minDate","maxDate","Form","type","checked","onClick","e","Selector","options","id","tempRef","find","newRef","userId","Number","username","isValid","skipDefault","searchable","Table","responsive","key","icon","faTimesCircle","filter","title","cursor","tempClass","Button","variant","push","inline","carClassManual","accept","currentFile","files","formData","FormData","append","addLogoFile","length","format","stageId","tempStages","onlyNumber","elem","disabled","link","fileId","addFile","text","handleAccept","forEach","f","Count","count","lPos","bg","left","top","Badge","pill","EventCard","onJoin","onTeamList","onScore","onEdit","onStatement","mainAdmin","eventDeadlined","getTime","statementCount","setStatementCount","driverCount","setDriverCount","logoDto","useGetLogoPathByEventIdQuery","skip","signDeadlineCount","moment","startOf","diff","eventCount","getTxtCount","fetchStatementsCount","fetchDriverCount","faEdit","whiteSpace","width","maxHeight","objectFit","src","alt","joined","faStar","TeamListModal","started","teams","setTeams","loading","setLoading","classesOptions","setClassesOptions","classFilter","setClassFilter","fetchTeams","fetchPsOptionsFnc","fetchPsOptions","arr","defValue","v","columns","useMemo","Header","accessor","cellInfo","number","disableFilters","Cell","row","NrBadge","team","driver","original","coDriver","club","coClub","teamName","car","line1","brand","model","line2","carBrand","driveType","driveTypeEnum","turbo","engineCapacity","entryFeePaid","faCheck","faQuestion","color","Spinner","animation","ResultTable","isLoading","isFooter","isHeader","manualPagination","QuickJoinPanel","msg","setMsg","setOptions","coSportLicense","sportLicense","birthDate","currentCar","carId","year","licensePlate","vin","petrol","insurance","insuranceExpiryDate","carInspectionExpiryDate","setTeam","onSubmit","preventDefault","required","faUserAstronaut","faUserClock","faBuilding","faCar","faCarAlt","driveTypeOption","height","download","url","filename","handleResponse","fetch","t","blob","b","a","document","createElement","href","URL","createObjectURL","setAttribute","click","EventModal","navigate","useNavigate","uploading","setUploading","fileMsg","setFileMsg","notJoined","setNotJoined","quickJoin","setQuickJoin","activeTab","setActiveTab","fillTeam","setFillTeam","setLogoDto","loggedUser","sessionStorage","getItem","fetchGetTeam","fetchLogo","signDeadlined","teamId","status","catch","error","zIndex","Tabs","activeKey","onSelect","Tab","eventKey","position","rel","startsWith","downloadFile","fetchUpload","form","fetchRemoveFromEvent","TeamModal","handleOk","BasicTeamDataForm","myTeam","onSave","okBtnLabel","faUserFriends","FinalListModal","creating","setCreating","okModal","setOkModal","frequency","setFrequency","psOptions","setPsOptions","setStartTime","pkc","setPkc","fetchCreateFinalList","loadingMsg","AdminTeamList","eventName","teamsToTable","setTeamsToTable","startEvent","setStartEvent","refreshSelect","setRefreshSelect","teamToRemove","setTeamToRemove","teamToEntryFee","setTeamToEntryFee","teamToEdit","setTeamToEdit","teamToPreview","setTeamToPreview","doSort","setDoSort","downloadingOA","setDownloadingOA","downloadingBK","setDownloadingBK","finalList","setFinalList","fetchReferee","fetchEvent","eraseTeamToRemove","eraseTeamToEntryFee","getDriverAndTeamId","sortedTeams","sort","order","changeCarClass","newCarClassId","findIndex","setSortedTeam","item","numValue","tempTeams","forcedNumber","getOrdered","newTeams","forcedNumbers","i","includes","minWidth","textAlign","overflowX","onDragStart","onDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","ordered","droppableId","provided","droppableProps","ref","innerRef","draggableId","toString","isDragDisabled","draggableProps","dragHandleProps","teamChecked","bkPositive","faUserEdit","backgroundColor","fontWeight","borderRadius","numberChanged","onBlur","checkRepeated","faDollarSign","faExclamation","faCoins","entryFeeFileExist","faDownload","faClipboard","oa","bk","paddingRight","placeholder","fetchConfirmEntryFee","fetchSaveEventTeam","saveTeam","mode","setTimeout","AddStatementModal","statement","setStatement","postFile","setPostFile","statementId","faBook","class","StatementModal","addStatement","setAddStatement","descriptionModal","setDescriptionModal","deleteModal","setDeleteModal","statements","setStatements","hiddenColumns","setHiddenColumns","checkReferee","fetchGetStatements","fetchStatement","fileExist","window","open","faSearch","props","futureEvents","setFutureEvents","createEvent","setCreateEvent","eventToTeamList","setEventToTeamList","eventToTeamPanel","setEventToTeamPanel","loadingFuture","setLoadingFuture","setMainAdmin","redirected","setRedirected","showStatement","setShowStatement","useGetAllBeforeQuery","archiveEvents","fetchingBefore","isFetching","eventRedirect","useLocation","search","fetchEvents","fetchFuture","y","indexOf","substring","replace","localStorage","setItem","pathname","state"],"sourceRoot":""}